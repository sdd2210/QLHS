"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[277],{3277:(Ot,L,h)=>{h.r(L),h.d(L,{RoomModule:()=>xt});var b=h(6814),C=h(8109),t=h(5879),P=h(756),m=h(6223),O=h(4104),j=h(3519),_=h.n(j),M=h(7954);function J(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"th",6)(1,"div",9)(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"input",10),t.NdJ("change",function(o){const l=t.CHM(e).$implicit,d=t.oxw().$implicit,a=t.oxw();return t.KtG(a.selectAll(o.target.checked,d.PrivilegeList,l))}),t.qZA()()()}if(2&s){const e=g.$implicit,n=t.oxw().$implicit;t.xp6(3),t.Oqu(e.Name),t.xp6(1),t.Q6J("checked",n.check)}}function D(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"td")(1,"input",11),t.NdJ("change",function(o){const i=t.CHM(e),l=i.$implicit,d=i.index,a=t.oxw(),r=a.$implicit,c=a.index,u=t.oxw().$implicit,p=t.oxw();return t.KtG(p.changeEvent(o.target.checked,u,r,l,c,d))}),t.qZA()()}if(2&s){const e=g.$implicit,n=t.oxw().$implicit;t.xp6(1),t.Q6J("checked",1===e.RoleSchoolLevelPrivilegeStatus&&1===n.RoleSchoolLevelPrivilegeStatus)}}function F(s,g){if(1&s&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,D,2,1,"td",8),t.qZA()),2&s){const e=g.$implicit;t.xp6(2),t.Oqu(e.Name),t.xp6(1),t.Q6J("ngForOf",e.SchoolLevelList)}}function U(s,g){if(1&s&&(t.TgZ(0,"div",4)(1,"table",5)(2,"thead")(3,"tr")(4,"th",6),t._uU(5),t.qZA(),t.YNc(6,J,5,2,"th",7),t.qZA()(),t.TgZ(7,"tbody"),t.YNc(8,F,4,2,"tr",8),t.qZA()()()),2&s){const e=g.$implicit,n=t.oxw();t.xp6(5),t.hij(" ",e.Name,""),t.xp6(1),t.Q6J("ngForOf",n.columnMember),t.xp6(2),t.Q6J("ngForOf",e.PrivilegeList)}}let B=(()=>{class s{constructor(e,n,o){this.levelService=e,this.settingService=n,this.router=o,this.callback=new t.vpe,this.listPermission=[],this.columnMember=[],this.dataRole=[],this.listSchoolLevel=[]}ngOnChanges(e){this.dataRole=this.data,this.name=this.roleName,this.dataRole.forEach(n=>{n.PrivilegeList.forEach(o=>{o.RoleSchoolLevelPrivilegeStatus=1})})}ngOnInit(){this.name=this.roleName,this.levelService.getListLevel().subscribe(e=>{this.columnMember=e})}selectAllSchool(e,n){}selectAll(e,n,o){n.forEach(e?i=>{i.SchoolLevelList.forEach(l=>{l.SchoolLevelId===o.SchoolLevelId&&(l.RoleSchoolLevelPrivilegeStatus=1,this.listPermission.push({PrivilegeId:i.PrivilegeId,SchoolLevelId:o.SchoolLevelId,Status:1}))})}:i=>{i.SchoolLevelList.forEach(l=>{if(l.SchoolLevelId===o.SchoolLevelId){l.RoleSchoolLevelPrivilegeStatus=0;let d=this.listPermission.findIndex(a=>a.PrivilegeId===i.PrivilegeId&&a.SchoolLevelId===o.SchoolLevelId);this.listPermission.splice(d,1)}})}),console.log(this.listPermission)}changeEvent(e,n,o,i,l,d){if("create"===this.type)if(e){i.RoleSchoolLevelPrivilegeStatus=1;for(let c=0;c<=l;c++)n.PrivilegeList[c].RoleSchoolLevelPrivilegeStatus=1,n.PrivilegeList[c].SchoolLevelList[d].RoleSchoolLevelPrivilegeStatus=1,this.listPermission.push({PrivilegeId:n.PrivilegeList[c].PrivilegeId,SchoolLevelId:n.PrivilegeList[c].SchoolLevelList[d].SchoolLevelId,Status:1});let a=["PrivilegeId","SchoolLevelId"],r=this.listPermission.filter((c=new Set,u=>{return p=a.map(p=>u[p]).join("|"),!c.has(p)&&c.add(p);var p}));this.listPermission=r,console.log(this.listPermission)}else{this.listPermission=[];for(let c=l;c<n.PrivilegeList.length;c++)n.PrivilegeList[c].SchoolLevelList[d].RoleSchoolLevelPrivilegeStatus=0;console.log("privilege",n.PrivilegeList),n.PrivilegeList.forEach(c=>{c.SchoolLevelList.forEach(u=>{1===c.RoleSchoolLevelPrivilegeStatus&&1===u.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:c.PrivilegeId,SchoolLevelId:u.SchoolLevelId,Status:1})})});let a=["PrivilegeId","SchoolLevelId"],r=this.listPermission.filter((c=>u=>{return p=a.map(p=>u[p]).join("|"),!c.has(p)&&c.add(p);var p})(new Set));this.listPermission=r,console.log(this.listPermission)}else if(n.PrivilegeList.forEach(a=>{a.SchoolLevelList.forEach(r=>{1===a.RoleSchoolLevelPrivilegeStatus&&1===r.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:a.PrivilegeId,SchoolLevelId:r.SchoolLevelId,Status:1})})}),e){this.listPermission=[],i.RoleSchoolLevelPrivilegeStatus=1;for(let a=0;a<=l;a++)n.PrivilegeList[a].RoleSchoolLevelPrivilegeStatus=1,n.PrivilegeList[a].SchoolLevelList[d].RoleSchoolLevelPrivilegeStatus=1;n.PrivilegeList.forEach(a=>{a.SchoolLevelList.forEach(r=>{1===a.RoleSchoolLevelPrivilegeStatus&&1===r.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:a.PrivilegeId,SchoolLevelId:r.SchoolLevelId,Status:1})})}),console.log(this.listPermission)}else{for(let c=l;c<n.PrivilegeList.length;c++)n.PrivilegeList[c].SchoolLevelList[d].RoleSchoolLevelPrivilegeStatus=0;n.PrivilegeList.forEach(c=>{c.SchoolLevelList.forEach(u=>{if(1===c.RoleSchoolLevelPrivilegeStatus&&1===u.RoleSchoolLevelPrivilegeStatus)this.listPermission.push({PrivilegeId:c.PrivilegeId,SchoolLevelId:u.SchoolLevelId,Status:1});else{let p=this.listPermission.find(w=>w.PrivilegeId===c.PrivilegeId&&w.SchoolLevelId===u.SchoolLevelId);p&&(p.Status=0)}})});let a=["PrivilegeId","SchoolLevelId"],r=this.listPermission.filter((c=>u=>{return p=a.map(p=>u[p]).join("|"),!c.has(p)&&c.add(p);var p})(new Set));this.listPermission=r,console.log(this.listPermission)}var c}save(){"create"===this.type?this.name?this.settingService.createRole({Name:this.name}).subscribe(e=>{this.listPermission.forEach(n=>{n.RoleId=e.Payload}),this.settingService.assignPrivilegeForPosition(this.listPermission).subscribe(n=>{_().fire({position:"center",icon:"success",title:"T\u1ea1o m\u1edbi th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.router.navigateByUrl("/main/setting/position")})}):this.callback.emit("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y!"):(this.settingService.editRole(this.roleId,{Name:this.name}).subscribe(e=>{}),this.listPermission.forEach(e=>{e.RoleId=this.roleId}),this.settingService.assignPrivilegeForPosition(this.listPermission).subscribe(e=>{_().fire({position:"center",icon:"success",title:"S\u1eeda th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.router.navigateByUrl("/main/setting/position")}))}cancelFunction(){this.router.navigateByUrl("/main/setting/position")}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(M.a),t.Y36(P.N),t.Y36(C.F0))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-student-role"]],inputs:{data:"data",roleName:"roleName",type:"type",roleId:"roleId"},outputs:{callback:"callback"},features:[t.TTD],decls:6,vars:1,consts:[["class","position-select",4,"ngFor","ngForOf"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"],[1,"position-select"],[1,"position-table"],["scope","col"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"content"],["type","checkbox","name","","id","",3,"checked","change"],["type","checkbox",3,"checked","change"]],template:function(n,o){1&n&&(t.YNc(0,U,9,3,"div",0),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.cancelFunction()}),t._uU(3,"H\u1ee7y b\u1ecf"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return o.save()}),t._uU(5,"L\u01b0u"),t.qZA()()),2&n&&t.Q6J("ngForOf",o.data)},dependencies:[b.sg],styles:[".position-select[_ngcontent-%COMP%]{display:flex;margin-top:20px;margin-bottom:20px;flex-direction:column}.position-select[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:24px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]{text-align:center}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:25px;height:25px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:70px;background-color:#c9c9d0}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-radius:24px 0 0;min-width:200px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-radius:0 24px 0 0}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px dotted;border-right:1px solid #9E9E9E}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{text-align:left!important;border-left:1px solid #9E9E9E;padding:0 0 0 20px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-radius:0 0 0 24px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-radius:0 0 24px}.add-role[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:70%}.add-role[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:10px 0}"]})}return s})();function q(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"div",10)(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"input",11),t.NdJ("change",function(o){const i=t.CHM(e),l=i.$implicit,d=i.index,a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.selectItem(o.target.checked,l,a.PrivilegeList,d))}),t.qZA()()}if(2&s){const e=g.$implicit;t.xp6(2),t.Oqu(e.Name),t.xp6(1),t.Q6J("checked",1===e.RoleSchoolLevelPrivilegeStatus&&1===e.Status)}}function H(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"input",7),t.NdJ("change",function(o){const l=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.selectAll(o.target.checked,l))}),t.qZA()(),t.TgZ(5,"div",8),t.YNc(6,q,4,2,"div",9),t.qZA()()}if(2&s){const e=g.$implicit;t.xp6(3),t.Oqu(e.Name),t.xp6(3),t.Q6J("ngForOf",e.PrivilegeList)}}let z=(()=>{class s{constructor(e,n){this.roleService=e,this.router=n,this.callback=new t.vpe,this.listRole=[],this.listPermission=[],this.model={}}ngOnChanges(){this.listRole=this.dataRoleSchool,this.nameRole=this.roleName,this.listRole.forEach(e=>{e.PrivilegeList.forEach(n=>{n.Status=n.RoleSchoolLevelPrivilegeStatus})}),console.log(this.listRole)}ngOnInit(){}filterFunction(e,n){let o=e;var l;n=n.filter((l=new Set,d=>{return a=o.map(a=>d[a]).join("|"),!l.has(a)&&l.add(a);var a}))}selectItem(e,n,o,i){if("create"===this.type){if(e){this.listPermission=[];for(let l=0;l<=i;l++)o[l].Status=1,o[l].RoleSchoolLevelPrivilegeStatus=1;this.listRole.forEach(l=>{l.PrivilegeList.forEach(d=>{1===d.Status&&1===d.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:d.PrivilegeId,SchoolLevelId:null,Status:d.Status})})})}else{this.listPermission=[];for(let l=i;l<o.length;l++)o[l].Status=0,o[l].RoleSchoolLevelPrivilegeStatus=0;this.listRole.forEach(l=>{l.PrivilegeList.forEach(d=>{1===d.Status&&1===d.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:d.PrivilegeId,SchoolLevelId:null,Status:d.Status})})})}console.log(this.listPermission)}else{if(this.listRole.forEach(a=>{a.PrivilegeList.forEach(r=>{1===r.Status&&1===r.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:r.PrivilegeId,SchoolLevelId:null,Status:r.Status})})}),e){this.listPermission=[];for(let a=0;a<=i;a++)o[a].Status=1,o[a].RoleSchoolLevelPrivilegeStatus=1;this.listRole.forEach(a=>{a.PrivilegeList.forEach(r=>{1===r.Status&&1===r.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:r.PrivilegeId,SchoolLevelId:null,Status:r.Status})})}),console.log(this.listPermission)}else{for(let a=i;a<o.length;a++)o[a].Status=0,o[a].RoleSchoolLevelPrivilegeStatus=0;this.listRole.forEach(a=>{a.PrivilegeList.forEach(r=>{if(1===r.Status&&1===r.RoleSchoolLevelPrivilegeStatus)this.listPermission.push({PrivilegeId:r.PrivilegeId,SchoolLevelId:null,Status:r.Status});else{let c=this.listPermission.find(u=>u.PrivilegeId===r.PrivilegeId);c&&(c.Status=0)}})})}let l=["PrivilegeId"],d=this.listPermission.filter((a=new Set,r=>{return c=l.map(c=>r[c]).join("|"),!a.has(c)&&a.add(c);var c}));this.listPermission=d,console.log(this.listPermission)}var a}selectAll(e,n){e?(this.listPermission=[],n.PrivilegeList.forEach(o=>{o.Status=1,o.RoleSchoolLevelPrivilegeStatus=1}),this.listRole.forEach(o=>{o.PrivilegeList.forEach(i=>{this.listPermission.push({PrivilegeId:i.PrivilegeId,SchoolLevelId:null,Status:i.Status})}),console.log(this.listPermission)})):(this.listPermission=[],n.PrivilegeList.forEach(o=>{o.Status=0,o.RoleSchoolLevelPrivilegeStatus=0}),this.listRole.forEach(o=>{o.PrivilegeList.forEach(i=>{this.listPermission.push({PrivilegeId:i.PrivilegeId,SchoolLevelId:null,Status:i.Status})}),console.log(this.listPermission)}))}save(){"create"===this.type?this.roleName?this.roleService.createRole({Name:this.roleName}).subscribe(e=>{this.listPermission.forEach(n=>{n.RoleId=e.Payload}),this.roleService.assignPrivilegeForPosition(this.listPermission).subscribe(n=>{_().fire({position:"center",icon:"success",title:"Th\xeam m\u1edbi th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.router.navigateByUrl("/main/setting/position")})}):this.callback.emit("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y!"):this.roleName?(this.listPermission.forEach(e=>{e.RoleId=this.roleId}),this.roleService.assignPrivilegeForPosition(this.listPermission).subscribe(e=>{_().fire({position:"center",icon:"success",title:"S\u1eeda th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.router.navigateByUrl("/main/setting/position")})):this.callback.emit("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y!")}cancelFunction(){this.router.navigateByUrl("/main/setting/position")}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(P.N),t.Y36(C.F0))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-school-role"]],inputs:{dataRoleSchool:"dataRoleSchool",roleId:"roleId",type:"type",roleName:"roleName"},outputs:{callback:"callback"},features:[t.TTD],decls:7,vars:1,consts:[[1,"school-role"],["class","box-role",4,"ngFor","ngForOf"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"],[1,"box-role"],[1,"header"],["type","checkbox","name","","id","",3,"change"],[1,"content"],["class","list",4,"ngFor","ngForOf"],[1,"list"],["type","checkbox","name","","id","",3,"checked","change"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,H,7,2,"div",1),t.qZA(),t.TgZ(2,"div",2)(3,"button",3),t.NdJ("click",function(){return o.cancelFunction()}),t._uU(4,"H\u1ee7y b\u1ecf"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return o.save()}),t._uU(6,"L\u01b0u"),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("ngForOf",o.listRole))},dependencies:[b.sg],styles:[".school-role[_ngcontent-%COMP%]{margin-top:20px;display:grid;grid-template-columns:1fr 1fr}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]{width:85%;margin-right:20px;border-radius:24px;border:1px solid #acacb4;margin-bottom:20px}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;height:50px;display:flex;align-items:center;background-color:#c9c9d0;border-radius:24px 24px 0 0}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:15px;font-size:14px;font-weight:600}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;right:20px;height:25px;width:25px}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-bottom:15px}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;height:40px}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding-left:15px}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;right:20px;height:25px;width:25px}.add-role[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:70%}.add-role[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:10px 0}"]})}return s})();function G(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._uU(2," Th\xeam ch\u1ee9c v\u1ee5 m\u1edbi "),t.qZA(),t.TgZ(3,"div",3)(4,"label",4),t._uU(5,"T\xean ch\u1ee9c v\u1ee5"),t.qZA(),t.TgZ(6,"input",5),t.NdJ("input",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.validateInput(o.target.value))})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.model.Name=o)}),t.qZA(),t.TgZ(7,"p",6),t._uU(8),t.qZA()(),t._UZ(9,"br"),t.TgZ(10,"div",7)(11,"mat-tab-group")(12,"mat-tab",8)(13,"app-student-role",9),t.NdJ("callback",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.handleEvent(o))})("dataChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.dataCreate=o)})("roleNameChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.model.Name=o)})("typeChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.type=o)}),t.qZA()(),t.TgZ(14,"mat-tab",10)(15,"app-school-role",11),t.NdJ("callback",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.handleEvent(o))})("dataRoleSchoolChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.dataRoleSchool=o)})("roleNameChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.model.Name=o)})("typeChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.type=o)})("roleIdChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.roleId=o)}),t.qZA()()()()()}if(2&s){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.model.Name),t.xp6(2),t.Oqu(e.error),t.xp6(5),t.Q6J("data",e.dataCreate)("roleName",e.model.Name)("type",e.type),t.xp6(2),t.Q6J("dataRoleSchool",e.dataRoleSchool)("roleName",e.model.Name)("type",e.type)("roleId",e.roleId)}}function Q(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._uU(2," S\u1eeda ch\u1ee9c v\u1ee5 "),t.qZA(),t.TgZ(3,"div",3)(4,"label",4),t._uU(5,"T\xean ch\u1ee9c v\u1ee5"),t.qZA(),t.TgZ(6,"input",12),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.model.Name=o)}),t.qZA()(),t._UZ(7,"br"),t.TgZ(8,"div",7)(9,"mat-tab-group")(10,"mat-tab",8)(11,"app-student-role",13),t.NdJ("dataChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.data=o)})("typeChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.type=o)})("roleNameChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.model.Name=o)})("roleIdChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.roleId=o)}),t.qZA()(),t.TgZ(12,"mat-tab",10)(13,"app-school-role",14),t.NdJ("dataRoleSchoolChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.dataRoleSchool=o)})("roleNameChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.model.Name=o)})("typeChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.type=o)})("roleIdChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.roleId=o)}),t.qZA()()()()()}if(2&s){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.model.Name),t.xp6(5),t.Q6J("data",e.data)("type",e.type)("roleName",e.model.Name)("roleId",e.roleId),t.xp6(2),t.Q6J("dataRoleSchool",e.dataRoleSchool)("roleName",e.model.Name)("type",e.type)("roleId",e.roleId)}}let N=(()=>{class s{constructor(e,n){this.activatedRoute=e,this.roleService=n,this.dataRoleSchool=[],this.dataCreate=[],this.model={},this.data=[]}ngOnInit(){window.location.href.split("/").includes("create-position")?(this.type="create",this.check=!0,this.roleService.listRoleSchoolOfStudent(null).subscribe(n=>{this.dataCreate=n}),this.roleService.listRoleSchool(null).subscribe(n=>{this.dataRoleSchool=n,console.log(n)})):(this.type="edit",this.check=!1,this.roleId=+this.activatedRoute.snapshot.params.roleId,this.roleService.getListRole().subscribe(n=>{this.model=n.find(o=>o.RoleId===this.roleId)}),this.roleService.listRoleSchoolOfStudent(this.roleId).subscribe(n=>{this.data=n,this.data.map(o=>o.RoleId=this.roleId)}),this.roleService.listRoleSchool(this.roleId).subscribe(n=>{this.dataRoleSchool=n}))}handleEvent(e){console.log(e),this.error=e}validateInput(e){this.error=""===e?"Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y!":""}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(C.gz),t.Y36(P.N))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-main-position"]],decls:2,vars:2,consts:[["class","main",4,"ngIf"],[1,"main"],[1,"title"],[1,"add-role"],["for",""],["placeholder","Nh\u1eadp t\xean ch\u1ee9c v\u1ee5","type","text","name","","id","",1,"base-input",3,"ngModel","input","ngModelChange"],[1,"validate"],[1,"tabs"],["label","H\u1ecdc sinh"],[3,"data","roleName","type","callback","dataChange","roleNameChange","typeChange"],["label","Nh\xe0 tr\u01b0\u1eddng"],[3,"dataRoleSchool","roleName","type","roleId","callback","dataRoleSchoolChange","roleNameChange","typeChange","roleIdChange"],["placeholder","Nh\u1eadp t\xean ch\u1ee9c v\u1ee5","type","text","name","","id","",1,"base-input",3,"ngModel","ngModelChange"],[3,"data","type","roleName","roleId","dataChange","typeChange","roleNameChange","roleIdChange"],[3,"dataRoleSchool","roleName","type","roleId","dataRoleSchoolChange","roleNameChange","typeChange","roleIdChange"]],template:function(n,o){1&n&&(t.YNc(0,G,16,9,"div",0),t.YNc(1,Q,14,9,"div",0)),2&n&&(t.Q6J("ngIf",!0===o.check),t.xp6(1),t.Q6J("ngIf",!1===o.check))},dependencies:[b.O5,m.Fj,m.JJ,m.On,O.uX,O.SP,B,z],styles:[".main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:26px;font-weight:700}.main[_ngcontent-%COMP%]   .add-role[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:70%}.main[_ngcontent-%COMP%]   .add-role[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:10px 0}  .mat-tab-group.mat-primary .mat-ink-bar,   .mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#ff872b}  .mat-tab-label,   .mat-tab-link{font-size:18px;font-weight:600}  .mat-tab-list .mat-tab-labels .mat-tab-label-active{color:#ff872b;opacity:1}.validate[_ngcontent-%COMP%]{margin:0;padding-top:5px;color:red}"]})}return s})();var R=h(8480),S=h(436);let K=(()=>{class s{constructor(e,n){this.router=e,this.roleService=n,this.config=new R.L,this.listActive=[],this.data=[]}ngOnInit(){this.listActive=this.config.btnActice,this.tableData=this.config.collums,this.getListRole()}getListRole(){this.roleService.getListRole().subscribe(e=>{this.data=e.reverse(),this.data.forEach((n,o)=>{n.stt=o+1})})}handleTableCallback(e){"create"===e.type&&this.router.navigateByUrl("/main/setting/create-position"),"edit"===e.type&&this.router.navigateByUrl(`/main/setting/edit-position/${e.item.RoleId}`),"delete-all"===e.type&&_().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{if(n.isConfirmed){for(let o=0;o<e.item.length;o++)this.roleService.deleteRole(e.item[o].RoleId).subscribe(i=>{this.getListRole()});_().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500})}}),"delete"===e.type&&_().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{n.isConfirmed&&this.roleService.deleteRole(e.item.RoleId).subscribe(o=>{_().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.getListRole()})})}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(C.F0),t.Y36(P.N))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-position-system"]],decls:5,vars:3,consts:[[1,"position"],[1,"title"],[3,"data","tableData","listActive","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"H\u1ec6 TH\u1ed0NG CH\u1ee8C V\u1ee4"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"app-table",2),t.NdJ("callback",function(l){return o.handleTableCallback(l)}),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("data",o.data)("tableData",o.tableData)("listActive",o.listActive))},dependencies:[S.a],styles:[".title[_ngcontent-%COMP%]{font-weight:600;font-size:26px;margin:0}"]})}return s})();var f=h(7700),T=h(9602);let X=(()=>{class s{constructor(e,n){this.dialogRef=e,this.schoolYearService=n,this.model={}}ngOnInit(){}closeDialog(){this.dialogRef.close()}save(){this.schoolYearService.createSchoolYear(this.model).subscribe(e=>{_().fire({position:"center",icon:"success",title:"Th\xeam m\u1edbi th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.closeDialog()})}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(f.so),t.Y36(T.E))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-school-year-create"]],decls:27,vars:5,consts:[[1,"school-year-create"],[1,"title"],[1,"content"],[1,"input-text"],["for",""],["type","text","name","",1,"base-input",3,"ngModel","ngModelChange"],[1,"semester"],[1,"input-date"],["type","date","name","","id","",1,"base-input","date",3,"ngModel","ngModelChange"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," TH\xcaM N\u0102M H\u1eccC "),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6,"T\xean n\u0103m h\u1ecdc"),t.qZA(),t.TgZ(7,"input",5),t.NdJ("ngModelChange",function(l){return o.model.name=l}),t.qZA()(),t.TgZ(8,"div",6)(9,"label",4),t._uU(10,"H\u1ecdc k\u1ef3 I"),t.qZA(),t.TgZ(11,"div",7)(12,"input",8),t.NdJ("ngModelChange",function(l){return o.model.first_start=l}),t.qZA(),t._uU(13," - "),t.TgZ(14,"input",8),t.NdJ("ngModelChange",function(l){return o.model.first_end=l}),t.qZA()()(),t.TgZ(15,"div",6)(16,"label",4),t._uU(17,"H\u1ecdc k\u1ef3 II"),t.qZA(),t.TgZ(18,"div",7)(19,"input",8),t.NdJ("ngModelChange",function(l){return o.model.second_start=l}),t.qZA(),t._uU(20," - "),t.TgZ(21,"input",8),t.NdJ("ngModelChange",function(l){return o.model.second_end=l}),t.qZA()()(),t.TgZ(22,"div",9)(23,"button",10),t.NdJ("click",function(){return o.closeDialog()}),t._uU(24,"H\u1ee7y"),t.qZA(),t.TgZ(25,"button",11),t.NdJ("click",function(){return o.save()}),t._uU(26,"X\xe1c nh\u1eadn"),t.qZA()()()()),2&n&&(t.xp6(7),t.Q6J("ngModel",o.model.name),t.xp6(5),t.Q6J("ngModel",o.model.first_start),t.xp6(2),t.Q6J("ngModel",o.model.first_end),t.xp6(5),t.Q6J("ngModel",o.model.second_start),t.xp6(2),t.Q6J("ngModel",o.model.second_end))},dependencies:[m.Fj,m.JJ,m.On],styles:[".school-year-create[_ngcontent-%COMP%]{padding:15px}.school-year-create[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;text-align:center}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:25px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]{margin-bottom:5px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]   .input-date[_ngcontent-%COMP%]{margin-top:5px;display:flex;justify-content:space-between;align-items:center}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]   .input-date[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{width:43%}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group-btn[_ngcontent-%COMP%]{margin-top:25px}"]})}return s})();var A=h(402);let V=(()=>{class s{constructor(e,n,o,i){this.schoolYearService=e,this.dialogRef=n,this.data=o,this.formatDate=i,this.model={}}ngOnInit(){this.model=this.data,this.model.FirstEndDate=this.formatDate.formatDate(this.data.FirstEndDate,"YYYY-MM-DD"),this.model.FirstStartDate=this.formatDate.formatDate(this.data.FirstStartDate,"YYYY-MM-DD"),this.model.SecondEndDate=this.formatDate.formatDate(this.data.SecondEndDate,"YYYY-MM-DD"),this.model.SecondStartDate=this.formatDate.formatDate(this.data.SecondStartDate,"YYYY-MM-DD")}closeDialog(){this.dialogRef.close()}save(){this.schoolYearService.editSchoolYear(this.data.SchoolYearId,this.model).subscribe(e=>{_().fire({position:"center",icon:"success",title:"S\u1eeda th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.closeDialog()})}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(T.E),t.Y36(f.so),t.Y36(f.WI),t.Y36(A.u))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-school-year-edit"]],decls:27,vars:5,consts:[[1,"school-year-create"],[1,"title"],[1,"content"],[1,"input-text"],["for",""],["type","text","name","",1,"base-input",3,"ngModel","ngModelChange"],[1,"semester"],[1,"input-date"],["type","date","name","","id","",1,"base-input","date",3,"ngModel","ngModelChange"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," S\u1eecA N\u0102M H\u1eccC "),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6,"T\xean n\u0103m h\u1ecdc"),t.qZA(),t.TgZ(7,"input",5),t.NdJ("ngModelChange",function(l){return o.model.Name=l}),t.qZA()(),t.TgZ(8,"div",6)(9,"label",4),t._uU(10,"H\u1ecdc k\u1ef3 I"),t.qZA(),t.TgZ(11,"div",7)(12,"input",8),t.NdJ("ngModelChange",function(l){return o.model.FirstStartDate=l}),t.qZA(),t._uU(13," - "),t.TgZ(14,"input",8),t.NdJ("ngModelChange",function(l){return o.model.FirstEndDate=l}),t.qZA()()(),t.TgZ(15,"div",6)(16,"label",4),t._uU(17,"H\u1ecdc k\u1ef3 II"),t.qZA(),t.TgZ(18,"div",7)(19,"input",8),t.NdJ("ngModelChange",function(l){return o.model.SecondStartDate=l}),t.qZA(),t._uU(20," - "),t.TgZ(21,"input",8),t.NdJ("ngModelChange",function(l){return o.model.SecondEndDate=l}),t.qZA()()(),t.TgZ(22,"div",9)(23,"button",10),t.NdJ("click",function(){return o.closeDialog()}),t._uU(24,"H\u1ee7y"),t.qZA(),t.TgZ(25,"button",11),t.NdJ("click",function(){return o.save()}),t._uU(26,"X\xe1c nh\u1eadn"),t.qZA()()()()),2&n&&(t.xp6(7),t.Q6J("ngModel",o.model.Name),t.xp6(5),t.Q6J("ngModel",o.model.FirstStartDate),t.xp6(2),t.Q6J("ngModel",o.model.FirstEndDate),t.xp6(5),t.Q6J("ngModel",o.model.SecondStartDate),t.xp6(2),t.Q6J("ngModel",o.model.SecondEndDate))},dependencies:[m.Fj,m.JJ,m.On],styles:[".school-year-create[_ngcontent-%COMP%]{padding:15px}.school-year-create[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;text-align:center}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:25px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]{margin-bottom:5px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]   .input-date[_ngcontent-%COMP%]{margin-top:5px;display:flex;justify-content:space-between;align-items:center}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]   .input-date[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{width:43%}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group-btn[_ngcontent-%COMP%]{margin-top:25px}"]})}return s})(),$=(()=>{class s{constructor(e,n,o,i){this.router=e,this.dialog=n,this.schoolYearService=o,this.formatDate=i,this.config=new R.L,this.listActive=[],this.data=[]}ngOnInit(){this.listActive=this.config.btnActice,this.tableData=this.config.collumsSchoolYear,this.getSchoolYear()}getSchoolYear(){this.schoolYearService.getSchoolYear().subscribe(e=>{this.data=e.original,this.data.map((n,o)=>(n.Name=n.name,n.Semester1=this.formatDate.formatDate(n.semester[0].start_date,"DD/MM/YYYY")+" - "+this.formatDate.formatDate(n.semester[0].end_date,"DD/MM/YYYY"),n.Semester2=this.formatDate.formatDate(n.semester[1].start_date,"DD/MM/YYYY")+" - "+this.formatDate.formatDate(n.semester[1].end_date,"DD/MM/YYYY"),n.stt=o+1,n))})}handleTableCallback(e){return console.log(e),"create"===e.type?this.dialog.open(X,{width:"600px",height:"400px"}).afterClosed().subscribe(n=>{this.getSchoolYear()}):"edit"===e.type?this.dialog.open(V,{width:"600px",height:"400px",data:e.item}).afterClosed().subscribe(n=>{this.getSchoolYear()}):("delete-all"===e.type&&_().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{if(n.isConfirmed){for(let o=0;o<e.item.length;o++)this.schoolYearService.deleteSchoolYear(e.item[o].SchoolYearId).subscribe(i=>{this.getSchoolYear()});_().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500})}}),void("delete"===e.type&&_().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{n.isConfirmed&&this.schoolYearService.deleteSchoolYear(e.item.SchoolYearId).subscribe(o=>{_().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.getSchoolYear()})})))}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(C.F0),t.Y36(f.uw),t.Y36(T.E),t.Y36(A.u))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-school-year"]],decls:5,vars:3,consts:[[1,"position"],[1,"title"],[3,"data","tableData","listActive","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"N\u0102M H\u1eccC"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"app-table",2),t.NdJ("callback",function(l){return o.handleTableCallback(l)}),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("data",o.data)("tableData",o.tableData)("listActive",o.listActive))},dependencies:[S.a],styles:[".title[_ngcontent-%COMP%]{font-weight:600;font-size:26px;margin:0}"]})}return s})();var W=h(7117),y=h(2371),k=h(5187);let tt=(()=>{class s{constructor(e,n,o){this.dialogRef=e,this.data=n,this.memberService=o,this.conFig=new W.m,this.dataModel={},this.checkFile={},this.error=[],this.option={title:"Th\xeam ph\xf2ng h\u1ecdc m\u1edbi",type:"create"},this.arrayButton=[{class:"btn-cancel",text:"H\u1ee7y b\u1ecf"},{class:"btn-save",text:"X\xe1c nh\u1eadn"}],this.listCreate=[]}ngOnInit(){this.listCreate=this.conFig.configRoom,this.dataModel={ClassName:this.data.name,ClassId:this.data._id,StudentGender:1},this.listCreate[6].data=[{value:this.data._id,name:this.data.name}],console.log("\u0111hdh",this.listCreate)}handleCallbackEvent(e){e.item.StudentGender=+e.item.StudentGender,"btn-save"===e.btn.class&&this.memberService.createRoom({name:e.item.RoomName}).subscribe(n=>{_().fire({position:"center",icon:"success",title:"Th\xeam ph\xf2ng th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.dialogRef.close()},n=>{_().fire({position:"center",icon:"error",title:n.error.message,showConfirmButton:!1,timer:1500})}),"btn-cancel"===e.btn.class&&this.dialogRef.close()}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(f.so),t.Y36(f.WI),t.Y36(y.n))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-create-member"]],decls:1,vars:6,consts:[[3,"data","option","error","dataModel","arrayButton","checkFile","dataChange","optionChange","errorChange","dataModelChange","arrayButtonChange","checkFileChange","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"app-create-form",0),t.NdJ("dataChange",function(l){return o.listCreate=l})("optionChange",function(l){return o.option=l})("errorChange",function(l){return o.error=l})("dataModelChange",function(l){return o.dataModel=l})("arrayButtonChange",function(l){return o.arrayButton=l})("checkFileChange",function(l){return o.checkFile=l})("callback",function(l){return o.handleCallbackEvent(l)}),t.qZA()),2&n&&t.Q6J("data",o.listCreate)("option",o.option)("error",o.error)("dataModel",o.dataModel)("arrayButton",o.arrayButton)("checkFile",o.checkFile)},dependencies:[k.I]})}return s})();var x=h(57);function et(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createClass())}),t._uU(1,"+ Th\xeam ph\xf2ng"),t.qZA()}}let nt=(()=>{class s{constructor(e,n,o,i){this.activeRouter=e,this.router=n,this.dialog=o,this.roomSv=i}ngOnInit(){const e=JSON.parse(localStorage.getItem("access_user"));"ADMIN"==e.role_key&&(this.user_id=e._id),this.roomSv.getAllRoom(void 0).subscribe(n=>{this.data=n})}routerTo(e){this.router.navigate([`/main/member/member-home/class/${e._id}`])}delete(e){_().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 ph\xf2ng n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{n.isConfirmed&&this.roomSv.deleteRoom(e._id).subscribe(o=>{_().fire({position:"center",icon:"success",title:"Xo\xe1 ph\xf2ng th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.roomSv.getAllRoom(void 0).subscribe(i=>{this.data=i})},o=>{_().fire({position:"center",icon:"error",title:o.error.message,showConfirmButton:!1,timer:1500})})})}createClass(){this.dialog.open(tt,{disableClose:!0}).afterClosed().subscribe(e=>{})}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(C.gz),t.Y36(C.F0),t.Y36(f.uw),t.Y36(y.n))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-room"]],decls:6,vars:3,consts:[[1,"setting"],[1,"header"],["class","btn-create create",3,"click",4,"ngIf"],[3,"dataCard","showIcon","callbackDelete"],[1,"btn-create","create",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," PH\xd2NG "),t.YNc(3,et,2,0,"button",2),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"app-base-card",3),t.NdJ("callbackDelete",function(l){return o.delete(l)}),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("ngIf",o.user_id),t.xp6(2),t.Q6J("dataCard",o.data)("showIcon",o.user_id))},dependencies:[b.O5,x.H],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:26px;font-weight:700}.header[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:20px;padding-left:20px;padding-right:20px;width:max-content}"]})}return s})();var ot=h(6036),v=h(9862),I=h(729),Y=h(9109),E=h(617),Z=h(1598);const it=["inputElement"];function st(s,g){if(1&s&&(t.TgZ(0,"p",17),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Oqu(e.error)}}function lt(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"nz-tag"),t._uU(1),t.TgZ(2,"mat-icon",18),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.handleClose(i))}),t._uU(3,"close"),t.qZA()()}if(2&s){const e=g.$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.sliceTagName(e.LastName)," ")}}function at(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"nz-tag",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showInput())}),t._UZ(1,"i",20),t._uU(2," + Th\xeam "),t.qZA()}}function ct(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"input",21,22),t.NdJ("input",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onSearchKey(o.target.value))})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.inputValue=o)}),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("ngModel",e.inputValue)}}function rt(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"div",25),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.clickSelectItem(i))}),t.TgZ(1,"img",26),t.NdJ("error",function(){const i=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.setDefaultImg(i))}),t.qZA(),t.TgZ(2,"div",27)(3,"b"),t._uU(4),t.qZA(),t.TgZ(5,"b"),t._uU(6),t.qZA()()()}if(2&s){const e=g.$implicit;t.xp6(1),t.Q6J("src",e.MediaURL,t.LSH),t.xp6(3),t.Oqu(e.LastName),t.xp6(2),t.hij("S\u0110T: ",e.Phone,"")}}function dt(s,g){if(1&s&&(t.TgZ(0,"div",23),t.YNc(1,rt,7,3,"div",24),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.results)}}let ht=(()=>{class s{constructor(e,n,o,i,l,d){this.dialogRef=e,this.data=n,this.http=o,this.handle=i,this.SubjectService=l,this.employeeService=d,this.tags=[],this.inputVisible=!1,this.inputValue="",this.results=[],this.model=[],this.listUserprofileId=[],this.listTeacher=[],this.onSearchKey=a=>{if(a){this.results=this.listTeacher.filter(r=>r.LastName.toLowerCase().indexOf(a.toLowerCase())>-1);for(let r=0;r<this.tags.length;r++){let c=this.tags[r].UserprofileId,u=this.results.findIndex(p=>p.UserprofileId===c);if(null==u)return this.results=[];this.results.splice(u,1),console.log(this.results)}}else this.results=[]},this.http=new v.eN(i)}ngOnInit(){console.log(this.data),this.model.GradeId=this.data.GradeId,this.gradeName=this.data.Name.toLowerCase(),this.getListTeacher()}closeDialog(){this.dialogRef.close()}handleClose(e){this.tags=this.tags.filter(n=>n!==e),0===this.tags.length&&(this.inputVisible=!1,this.inputValue="",this.results=[])}sliceTagName(e){return e.length>20?`${e.slice(0,20)}...`:e}showInput(){this.inputVisible=!0,setTimeout(()=>{this.inputElement?.nativeElement.focus()},10)}handleInputConfirm(){this.inputValue&&-1===this.tags.indexOf(this.inputValue)&&(this.tags=[...this.tags,this.inputValue]),this.inputValue="",this.inputVisible=!1}clickSelectItem(e){this.tags.push(e),this.inputVisible=!1,this.results=[],this.inputValue="",console.log(this.tags)}getListTeacher(){this.employeeService.getListEmployee("").subscribe(e=>{this.listTeacher=e.map(n=>({LastName:n.LastName||"",MediaURL:n.MediaURL,Phone:n.Phone,UserprofileId:n.UserprofileId}))})}setDefaultImg(e){e.MediaURL="assets/img/default-avatar.jpg"}getUnique(e,n){const o=e.map(i=>i[n]).map((i,l,d)=>d.indexOf(i)===l&&l).filter(i=>e[i]).map(i=>e[i]);return console.log(o),o}saveFunction(){this.tags.forEach(n=>{this.listUserprofileId.push(n.UserprofileId)}),this.SubjectService.createSubject({Name:this.model.Name,GradeId:this.model.GradeId,ListUserprofileId:this.listUserprofileId}).subscribe(n=>{this.closeDialog()},n=>{this.error=n.error.Message})}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(f.so),t.Y36(f.WI),t.Y36(v.eN),t.Y36(v.jN),t.Y36(I._),t.Y36(Y.G))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-subject-create"]],viewQuery:function(n,o){if(1&n&&t.Gf(it,5),2&n){let i;t.iGM(i=t.CRH())&&(o.inputElement=i.first)}},decls:27,vars:7,consts:[[1,"subject-create"],[1,"title"],[1,"form-create"],[1,"group-input"],["for",""],["type","text",1,"base-input",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[1,"list-tags"],[1,"tags"],[4,"ngFor","ngForOf"],["class","editable-tag","nzNoAnimation","",3,"click",4,"ngIf"],[1,"search-box"],["nz-input","","class","chips-name","nzSize","small","type","text",3,"ngModel","input","ngModelChange",4,"ngIf"],["class","list-result",4,"ngIf"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"],[1,"error"],[1,"close",3,"click"],["nzNoAnimation","",1,"editable-tag",3,"click"],["nz-icon","","nzType","plus"],["nz-input","","nzSize","small","type","text",1,"chips-name",3,"ngModel","input","ngModelChange"],["inputElement",""],[1,"list-result"],["class","student-detail",3,"click",4,"ngFor","ngForOf"],[1,"student-detail",3,"click"],["alt","","srcset","",3,"src","error"],[1,"info-student"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6,"T\xean m\xf4n h\u1ecdc "),t.TgZ(7,"span"),t._uU(8,"*"),t.qZA()(),t.TgZ(9,"input",5),t.NdJ("ngModelChange",function(l){return o.model.Name=l}),t.qZA(),t.YNc(10,st,2,1,"p",6),t.qZA(),t.TgZ(11,"div",3)(12,"label",4),t._uU(13,"T\xean gi\xe1o vi\xean"),t.qZA(),t.TgZ(14,"div",7)(15,"div",8),t.YNc(16,lt,4,1,"nz-tag",9),t.YNc(17,at,3,0,"nz-tag",10),t.TgZ(18,"div",11),t.YNc(19,ct,2,1,"input",12),t.YNc(20,dt,2,1,"div",13),t.qZA()()()()(),t._UZ(21,"br"),t.qZA(),t.TgZ(22,"div",14)(23,"button",15),t.NdJ("click",function(){return o.closeDialog()}),t._uU(24,"H\u1ee7y"),t.qZA(),t.TgZ(25,"button",16),t.NdJ("click",function(){return o.saveFunction()}),t._uU(26,"X\xe1c nh\u1eadn"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" Th\xeam m\u1edbi m\xf4n h\u1ecdc ",o.gradeName," "),t.xp6(7),t.Q6J("ngModel",o.model.Name),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(6),t.Q6J("ngForOf",o.tags),t.xp6(1),t.Q6J("ngIf",!o.inputVisible),t.xp6(2),t.Q6J("ngIf",o.inputVisible),t.xp6(1),t.Q6J("ngIf",o.results.length>0))},dependencies:[b.sg,b.O5,m.Fj,m.JJ,m.On,E.Hw,Z.j],styles:[".subject-create[_ngcontent-%COMP%]{padding:15px 20px}.subject-create[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]{margin-top:20px}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:5px 0}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:150px}.editable-tag[_ngcontent-%COMP%]{background:rgb(255,255,255);border-style:dashed}.list-tags[_ngcontent-%COMP%]{min-height:175px;width:100%;padding:15px;border:1px solid;border:1px solid #e4e4e4;border-radius:5px}nz-tag.ant-tag.ng-star-inserted[_ngcontent-%COMP%]{position:relative;display:flex;height:35px;align-items:center;padding:0 30px 0 5px;width:160px;margin-bottom:10px}nz-tag.ant-tag.ng-star-inserted[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:25px;position:absolute;right:0;cursor:pointer}.chips-name[_ngcontent-%COMP%]{height:35px;position:relative}.tags[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr}.group-btn[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:20px}.group-btn[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{margin-left:10px}.group-btn[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{margin-right:10px;color:#ff872b}.search-box[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]{position:absolute;max-height:150px;overflow:auto;width:300px;border:1px solid #848484;z-index:999;background-color:#f8f8f8}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;background-color:#fff;margin:10px;border-radius:19px}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;padding:5px;margin-right:10px}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   .info-student[_ngcontent-%COMP%]{font-size:14px;display:flex;flex-direction:column}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   .info-student[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.error[_ngcontent-%COMP%]{margin:0;color:red;padding-top:5px}"]})}return s})();const gt=["inputElement"];function ut(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"nz-tag"),t._uU(1),t.TgZ(2,"mat-icon",16),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.handleClose(i))}),t._uU(3,"close"),t.qZA()()}if(2&s){const e=g.$implicit,n=t.oxw();t.xp6(1),t.hij(" ",n.sliceTagName(null==e?null:e.TeacherName)," ")}}function pt(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"nz-tag",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showInput())}),t._UZ(1,"i",18),t._uU(2," + Th\xeam "),t.qZA()}}function _t(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"input",19,20),t.NdJ("input",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onSearchKey(o.target.value))})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.inputValue=o)}),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("ngModel",e.inputValue)}}function mt(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.clickSelectItem(i))}),t.TgZ(1,"img",24),t.NdJ("error",function(){const i=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.setDefaultImg(i))}),t.qZA(),t.TgZ(2,"div",25)(3,"b"),t._uU(4),t.qZA(),t.TgZ(5,"b"),t._uU(6),t.qZA()()()}if(2&s){const e=g.$implicit;t.xp6(1),t.Q6J("src",e.MediaURL,t.LSH),t.xp6(3),t.Oqu(e.TeacherName),t.xp6(2),t.hij("S\u0110T: ",e.Phone,"")}}function Ct(s,g){if(1&s&&(t.TgZ(0,"div",21),t.YNc(1,mt,7,3,"div",22),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.results)}}let ft=(()=>{class s{constructor(e,n,o,i,l,d){this.dialogRef=e,this.data=n,this.http=o,this.handle=i,this.SubjectService=l,this.employeeService=d,this.tags=[],this.inputVisible=!1,this.inputValue="",this.results=[],this.model=[],this.listUserprofileId=[],this.listTeacher=[],this.onSearchKey=a=>{if(a){this.results=this.listTeacher.filter(r=>-1!==r.TeacherName.toLowerCase().indexOf(a.toLowerCase()));for(let r=0;r<this.tags.length;r++){let c=this.tags[r].UserprofileId,u=this.results.findIndex(p=>p.UserprofileId===c);if(null==u)return this.results=[];this.results.splice(u,1),console.log(this.results)}}else this.results=[]},this.http=new v.eN(i)}ngOnInit(){this.model=this.data,this.model.GradeId=this.data.GradeId,this.tags=this.data.ListTeachers.filter(e=>null!==e.TeacherName),this.getListTeacher()}closeDialog(){this.dialogRef.close()}handleClose(e){this.tags=this.tags.filter(n=>n!==e),0===this.tags.length&&(this.inputVisible=!1,this.inputValue="",this.results=[])}sliceTagName(e){return e.length>20?`${e.slice(0,20)}...`:e}showInput(){this.inputVisible=!0,setTimeout(()=>{this.inputElement?.nativeElement.focus()},10)}handleInputConfirm(){this.inputValue&&-1===this.tags.indexOf(this.inputValue)&&(this.tags=[...this.tags,this.inputValue]),this.inputValue="",this.inputVisible=!1}clickSelectItem(e){this.tags.push(e),this.inputVisible=!1,this.results=[],this.inputValue="",console.log(this.tags)}getListTeacher(){this.employeeService.getListEmployee("").subscribe(e=>{this.listTeacher=e.map(n=>({TeacherName:n.LastName||"",MediaURL:n.MediaURL,Phone:n.Phone,UserprofileId:n.UserprofileId})),console.log(this.listTeacher)})}setDefaultImg(e){e.MediaURL="assets/img/default-avatar.jpg"}getUnique(e,n){const o=e.map(i=>i[n]).map((i,l,d)=>d.indexOf(i)===l&&l).filter(i=>e[i]).map(i=>e[i]);return console.log(o),o}saveFunction(){this.tags.forEach(n=>{this.listUserprofileId.push(n.UserprofileId)}),this.SubjectService.editSubject(this.data.SubjectId,{Name:this.model.SubjectName,GradeId:this.model.GradeId,ListUserprofileId:this.listUserprofileId}).subscribe(n=>{this.closeDialog()})}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(f.so),t.Y36(f.WI),t.Y36(v.eN),t.Y36(v.jN),t.Y36(I._),t.Y36(Y.G))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-subject-edit"]],viewQuery:function(n,o){if(1&n&&t.Gf(gt,5),2&n){let i;t.iGM(i=t.CRH())&&(o.inputElement=i.first)}},decls:26,vars:6,consts:[[1,"subject-create"],[1,"title"],[1,"form-create"],[1,"group-input"],["for",""],["type","text",1,"base-input",3,"ngModel","ngModelChange"],[1,"list-tags"],[1,"tags"],[4,"ngFor","ngForOf"],["class","editable-tag","nzNoAnimation","",3,"click",4,"ngIf"],[1,"search-box"],["nz-input","","class","chips-name","nzSize","small","type","text",3,"ngModel","input","ngModelChange",4,"ngIf"],["class","list-result",4,"ngIf"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"],[1,"close",3,"click"],["nzNoAnimation","",1,"editable-tag",3,"click"],["nz-icon","","nzType","plus"],["nz-input","","nzSize","small","type","text",1,"chips-name",3,"ngModel","input","ngModelChange"],["inputElement",""],[1,"list-result"],["class","student-detail",3,"click",4,"ngFor","ngForOf"],[1,"student-detail",3,"click"],["alt","","srcset","",3,"src","error"],[1,"info-student"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6,"T\xean m\xf4n h\u1ecdc "),t.TgZ(7,"span"),t._uU(8,"*"),t.qZA()(),t.TgZ(9,"input",5),t.NdJ("ngModelChange",function(l){return o.model.SubjectName=l}),t.qZA()(),t.TgZ(10,"div",3)(11,"label",4),t._uU(12,"T\xean gi\xe1o vi\xean"),t.qZA(),t.TgZ(13,"div",6)(14,"div",7),t.YNc(15,ut,4,1,"nz-tag",8),t.YNc(16,pt,3,0,"nz-tag",9),t.TgZ(17,"div",10),t.YNc(18,_t,2,1,"input",11),t.YNc(19,Ct,2,1,"div",12),t.qZA()()()()(),t._UZ(20,"br"),t.qZA(),t.TgZ(21,"div",13)(22,"button",14),t.NdJ("click",function(){return o.closeDialog()}),t._uU(23,"H\u1ee7y"),t.qZA(),t.TgZ(24,"button",15),t.NdJ("click",function(){return o.saveFunction()}),t._uU(25,"X\xe1c nh\u1eadn"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" S\u1eeda m\xf4n h\u1ecdc ",o.gradeName," "),t.xp6(7),t.Q6J("ngModel",o.model.SubjectName),t.xp6(6),t.Q6J("ngForOf",o.tags),t.xp6(1),t.Q6J("ngIf",!o.inputVisible),t.xp6(2),t.Q6J("ngIf",o.inputVisible),t.xp6(1),t.Q6J("ngIf",o.results.length>0))},dependencies:[b.sg,b.O5,m.Fj,m.JJ,m.On,E.Hw,Z.j],styles:[".subject-create[_ngcontent-%COMP%]{padding:15px 20px}.subject-create[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]{margin-top:20px}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:5px 0}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:150px}.editable-tag[_ngcontent-%COMP%]{background:rgb(255,255,255);border-style:dashed}.list-tags[_ngcontent-%COMP%]{min-height:175px;width:100%;padding:15px;border:1px solid;border:1px solid #e4e4e4;border-radius:5px}nz-tag.ant-tag.ng-star-inserted[_ngcontent-%COMP%]{position:relative;display:flex;height:35px;align-items:center;padding:0 30px 0 5px;width:160px;margin-bottom:10px}nz-tag.ant-tag.ng-star-inserted[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:25px;position:absolute;right:0;cursor:pointer}.chips-name[_ngcontent-%COMP%]{height:35px;position:relative}.tags[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr}.group-btn[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:20px}.group-btn[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{margin-left:10px}.group-btn[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{margin-right:10px;color:#ff872b}.search-box[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]{position:absolute;max-height:150px;overflow:auto;width:300px;border:1px solid #848484;z-index:999;background-color:#f8f8f8}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;background-color:#fff;margin:10px;border-radius:19px}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;padding:5px;margin-right:10px}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   .info-student[_ngcontent-%COMP%]{font-size:14px;display:flex;flex-direction:column}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   .info-student[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})}return s})();const bt=[{path:"",component:nt},{path:"school-year",component:$},{path:"position",component:K},{path:"subject/level",component:(()=>{class s{constructor(e,n,o){this.router=e,this.schoolGradeLevel=n,this.memberService=o,this.data=[]}ngOnInit(){this.schoolGradeLevel.getListLevelPrivilege().subscribe(e=>{this.data=e.filter(n=>n.level_key).map(n=>({...n,studentCount:-1,classCount:-1}))})}callback(e){this.router.navigateByUrl(`/main/setting/subject/list-grade/${e.level_key}`)}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(C.F0),t.Y36(M.a),t.Y36(y.n))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-subject-level"]],decls:5,vars:1,consts:[[1,"document"],[1,"title"],[3,"dataCard","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," C\u1ea4P "),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"app-base-card",2),t.NdJ("callback",function(l){return o.callback(l)}),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("dataCard",o.data))},dependencies:[x.H],styles:[".document[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:26px}"]})}return s})()},{path:"subject/list-grade/:schoolLevelId",component:(()=>{class s{constructor(e,n,o){this.router=e,this.schoolGradeLevel=n,this.activeRouter=o,this.data=[]}ngOnInit(){this.levelId=this.activeRouter.snapshot.params.schoolLevelId,this.schoolGradeLevel.getGradeOfLevel(this.levelId).subscribe(e=>{this.data=e.map(n=>({...n,studentCount:-1,classCount:-1}))})}callback(e){this.router.navigateByUrl(`/main/setting/subject/level/${this.levelId}/grade/${e._id}`)}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(C.F0),t.Y36(M.a),t.Y36(C.gz))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-subject-grade"]],decls:5,vars:1,consts:[[1,"document"],[1,"title"],[3,"dataCard","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," KH\u1ed0I "),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"app-base-card",2),t.NdJ("callback",function(l){return o.callback(l)}),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("dataCard",o.data))},dependencies:[x.H],styles:[".document[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:26px}"]})}return s})()},{path:"subject/level/:schoolLevelId/grade/:gradeId",component:(()=>{class s{constructor(e,n,o,i,l){this.activeRouter=e,this.router=n,this.schoolGradeLevel=o,this.dialog=i,this.subjectService=l,this.config=new ot.T,this.data=[],this.dataGrade={},this.listActive=[],this.tableData=[]}ngOnInit(){this.tableData=this.config.collums,this.listActive=this.config.btnActice,this.gradeId=this.activeRouter.snapshot.params.gradeId,this.schoolGradeLevel.getGradeOfLevel(this.activeRouter.snapshot.params.schoolLevelId).subscribe(n=>{this.dataGrade=n.find(o=>o.GradeId==this.gradeId)}),this.getListSubject()}getListSubject(){this.subjectService.getListSubjectOfGrade(this.gradeId).subscribe(e=>{this.data=e,this.data.forEach((n,o)=>{n.stt=o+1})})}handleTableCallback(e){return"create"===e.type?this.dialog.open(ht,{width:"600px",height:"450px",data:this.dataGrade}).afterClosed().subscribe(n=>{this.getListSubject()}):"edit"===e.type?this.dialog.open(ft,{width:"600px",height:"450px",data:e.item}).afterClosed().subscribe(n=>{this.getListSubject()}):("delete-all"===e.type&&_().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{if(n.isConfirmed){for(let o=0;o<e.item.length;o++)this.subjectService.deleteSubject(e.item[o].SubjectId).subscribe(i=>{this.getListSubject()});_().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500})}}),void("delete"===e.type&&_().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{n.isConfirmed&&this.subjectService.deleteSubject(e.item.SubjectId).subscribe(o=>{_().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.getListSubject()})})))}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(C.gz),t.Y36(C.F0),t.Y36(M.a),t.Y36(f.uw),t.Y36(I._))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-subject-class"]],decls:5,vars:4,consts:[[1,"subject"],[1,"title"],[3,"data","tableData","listActive","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"app-table",2),t.NdJ("callback",function(l){return o.handleTableCallback(l)}),t.qZA()()),2&n&&(t.xp6(2),t.hij(" M\xd4N H\u1eccC ",o.gradeName," "),t.xp6(2),t.Q6J("data",o.data)("tableData",o.tableData)("listActive",o.listActive))},dependencies:[S.a],styles:[".subject[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:600}"]})}return s})()},{path:"create-position",component:N},{path:"edit-position/:roleId",component:N},{path:"",redirectTo:"room",pathMatch:"full"}];var vt=h(2557),Pt=h(4630),Mt=h(1043),St=h(4571);let xt=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275mod=t.oAB({type:s});static#n=this.\u0275inj=t.cJS({imports:[b.ez,S.m,C.Bz.forChild(bt),x.h,vt.Hi,m.u5,k.D,E.Ps,St.q,Pt.Bb,m.UX,Mt.lN,Z.X,O.Nh]})}return s})()}}]);