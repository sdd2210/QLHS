"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[47],{9047:(Nt,L,g)=>{g.r(L),g.d(L,{SettingModule:()=>At});var v=g(6814),f=g(8109),t=g(5879),M=g(756),p=g(6223),S=g(4104),F=g(3519),u=g.n(F),P=g(7954);function j(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"th",6)(1,"div",9)(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"input",10),t.NdJ("change",function(o){const s=t.CHM(e).$implicit,d=t.oxw().$implicit,r=t.oxw();return t.KtG(r.selectAll(o.target.checked,d.PrivilegeList,s))}),t.qZA()()()}if(2&i){const e=_.$implicit,n=t.oxw().$implicit;t.xp6(3),t.Oqu(e.Name),t.xp6(1),t.Q6J("checked",n.check)}}function J(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"input",11),t.NdJ("change",function(o){const a=t.CHM(e),s=a.$implicit,d=a.index,r=t.oxw(),l=r.$implicit,c=r.index,h=t.oxw().$implicit,m=t.oxw();return t.KtG(m.changeEvent(o.target.checked,h,l,s,c,d))}),t.qZA()()}if(2&i){const e=_.$implicit,n=t.oxw().$implicit;t.xp6(1),t.Q6J("checked",1===e.RoleSchoolLevelPrivilegeStatus&&1===n.RoleSchoolLevelPrivilegeStatus)}}function B(i,_){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,J,2,1,"td",8),t.qZA()),2&i){const e=_.$implicit;t.xp6(2),t.Oqu(e.Name),t.xp6(1),t.Q6J("ngForOf",e.SchoolLevelList)}}function H(i,_){if(1&i&&(t.TgZ(0,"div",4)(1,"table",5)(2,"thead")(3,"tr")(4,"th",6),t._uU(5),t.qZA(),t.YNc(6,j,5,2,"th",7),t.qZA()(),t.TgZ(7,"tbody"),t.YNc(8,B,4,2,"tr",8),t.qZA()()()),2&i){const e=_.$implicit,n=t.oxw();t.xp6(5),t.hij(" ",e.Name,""),t.xp6(1),t.Q6J("ngForOf",n.columnMember),t.xp6(2),t.Q6J("ngForOf",e.PrivilegeList)}}let G=(()=>{class i{constructor(e,n,o){this.levelService=e,this.settingService=n,this.router=o,this.callback=new t.vpe,this.listPermission=[],this.columnMember=[],this.dataRole=[],this.listSchoolLevel=[]}ngOnChanges(e){this.dataRole=this.data,this.name=this.roleName,this.dataRole.forEach(n=>{n.PrivilegeList.forEach(o=>{o.RoleSchoolLevelPrivilegeStatus=1})})}ngOnInit(){this.name=this.roleName,this.levelService.getListLevel().subscribe(e=>{this.columnMember=e})}selectAllSchool(e,n){}selectAll(e,n,o){n.forEach(e?a=>{a.SchoolLevelList.forEach(s=>{s.SchoolLevelId===o.SchoolLevelId&&(s.RoleSchoolLevelPrivilegeStatus=1,this.listPermission.push({PrivilegeId:a.PrivilegeId,SchoolLevelId:o.SchoolLevelId,Status:1}))})}:a=>{a.SchoolLevelList.forEach(s=>{if(s.SchoolLevelId===o.SchoolLevelId){s.RoleSchoolLevelPrivilegeStatus=0;let d=this.listPermission.findIndex(r=>r.PrivilegeId===a.PrivilegeId&&r.SchoolLevelId===o.SchoolLevelId);this.listPermission.splice(d,1)}})}),console.log(this.listPermission)}changeEvent(e,n,o,a,s,d){if("create"===this.type)if(e){a.RoleSchoolLevelPrivilegeStatus=1;for(let c=0;c<=s;c++)n.PrivilegeList[c].RoleSchoolLevelPrivilegeStatus=1,n.PrivilegeList[c].SchoolLevelList[d].RoleSchoolLevelPrivilegeStatus=1,this.listPermission.push({PrivilegeId:n.PrivilegeList[c].PrivilegeId,SchoolLevelId:n.PrivilegeList[c].SchoolLevelList[d].SchoolLevelId,Status:1});let r=["PrivilegeId","SchoolLevelId"],l=this.listPermission.filter((c=new Set,h=>{return m=r.map(m=>h[m]).join("|"),!c.has(m)&&c.add(m);var m}));this.listPermission=l,console.log(this.listPermission)}else{this.listPermission=[];for(let c=s;c<n.PrivilegeList.length;c++)n.PrivilegeList[c].SchoolLevelList[d].RoleSchoolLevelPrivilegeStatus=0;console.log("privilege",n.PrivilegeList),n.PrivilegeList.forEach(c=>{c.SchoolLevelList.forEach(h=>{1===c.RoleSchoolLevelPrivilegeStatus&&1===h.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:c.PrivilegeId,SchoolLevelId:h.SchoolLevelId,Status:1})})});let r=["PrivilegeId","SchoolLevelId"],l=this.listPermission.filter((c=>h=>{return m=r.map(m=>h[m]).join("|"),!c.has(m)&&c.add(m);var m})(new Set));this.listPermission=l,console.log(this.listPermission)}else if(n.PrivilegeList.forEach(r=>{r.SchoolLevelList.forEach(l=>{1===r.RoleSchoolLevelPrivilegeStatus&&1===l.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:r.PrivilegeId,SchoolLevelId:l.SchoolLevelId,Status:1})})}),e){this.listPermission=[],a.RoleSchoolLevelPrivilegeStatus=1;for(let r=0;r<=s;r++)n.PrivilegeList[r].RoleSchoolLevelPrivilegeStatus=1,n.PrivilegeList[r].SchoolLevelList[d].RoleSchoolLevelPrivilegeStatus=1;n.PrivilegeList.forEach(r=>{r.SchoolLevelList.forEach(l=>{1===r.RoleSchoolLevelPrivilegeStatus&&1===l.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:r.PrivilegeId,SchoolLevelId:l.SchoolLevelId,Status:1})})}),console.log(this.listPermission)}else{for(let c=s;c<n.PrivilegeList.length;c++)n.PrivilegeList[c].SchoolLevelList[d].RoleSchoolLevelPrivilegeStatus=0;n.PrivilegeList.forEach(c=>{c.SchoolLevelList.forEach(h=>{if(1===c.RoleSchoolLevelPrivilegeStatus&&1===h.RoleSchoolLevelPrivilegeStatus)this.listPermission.push({PrivilegeId:c.PrivilegeId,SchoolLevelId:h.SchoolLevelId,Status:1});else{let m=this.listPermission.find(U=>U.PrivilegeId===c.PrivilegeId&&U.SchoolLevelId===h.SchoolLevelId);m&&(m.Status=0)}})});let r=["PrivilegeId","SchoolLevelId"],l=this.listPermission.filter((c=>h=>{return m=r.map(m=>h[m]).join("|"),!c.has(m)&&c.add(m);var m})(new Set));this.listPermission=l,console.log(this.listPermission)}var c}save(){"create"===this.type?this.name?this.settingService.createRole({Name:this.name}).subscribe(e=>{this.listPermission.forEach(n=>{n.RoleId=e.Payload}),this.settingService.assignPrivilegeForPosition(this.listPermission).subscribe(n=>{u().fire({position:"center",icon:"success",title:"T\u1ea1o m\u1edbi th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.router.navigateByUrl("/main/setting/position")})}):this.callback.emit("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y!"):(this.settingService.editRole(this.roleId,{Name:this.name}).subscribe(e=>{}),this.listPermission.forEach(e=>{e.RoleId=this.roleId}),this.settingService.assignPrivilegeForPosition(this.listPermission).subscribe(e=>{u().fire({position:"center",icon:"success",title:"S\u1eeda th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.router.navigateByUrl("/main/setting/position")}))}cancelFunction(){this.router.navigateByUrl("/main/setting/position")}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(P.a),t.Y36(M.N),t.Y36(f.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-student-role"]],inputs:{data:"data",roleName:"roleName",type:"type",roleId:"roleId"},outputs:{callback:"callback"},features:[t.TTD],decls:6,vars:1,consts:[["class","position-select",4,"ngFor","ngForOf"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"],[1,"position-select"],[1,"position-table"],["scope","col"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"content"],["type","checkbox","name","","id","",3,"checked","change"],["type","checkbox",3,"checked","change"]],template:function(n,o){1&n&&(t.YNc(0,H,9,3,"div",0),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.cancelFunction()}),t._uU(3,"H\u1ee7y b\u1ecf"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return o.save()}),t._uU(5,"L\u01b0u"),t.qZA()()),2&n&&t.Q6J("ngForOf",o.data)},dependencies:[v.sg],styles:[".position-select[_ngcontent-%COMP%]{display:flex;margin-top:20px;margin-bottom:20px;flex-direction:column}.position-select[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:24px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]{text-align:center}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:25px;height:25px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:70px;background-color:#c9c9d0}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-radius:24px 0 0;min-width:200px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-radius:0 24px 0 0}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px dotted;border-right:1px solid #9E9E9E}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{text-align:left!important;border-left:1px solid #9E9E9E;padding:0 0 0 20px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-radius:0 0 0 24px}.position-select[_ngcontent-%COMP%]   .position-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-radius:0 0 24px}.add-role[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:70%}.add-role[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:10px 0}"]})}return i})();function q(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"input",11),t.NdJ("change",function(o){const a=t.CHM(e),s=a.$implicit,d=a.index,r=t.oxw().$implicit,l=t.oxw();return t.KtG(l.selectItem(o.target.checked,s,r.PrivilegeList,d))}),t.qZA()()}if(2&i){const e=_.$implicit;t.xp6(2),t.Oqu(e.Name),t.xp6(1),t.Q6J("checked",1===e.RoleSchoolLevelPrivilegeStatus&&1===e.Status)}}function z(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"input",7),t.NdJ("change",function(o){const s=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.selectAll(o.target.checked,s))}),t.qZA()(),t.TgZ(5,"div",8),t.YNc(6,q,4,2,"div",9),t.qZA()()}if(2&i){const e=_.$implicit;t.xp6(3),t.Oqu(e.Name),t.xp6(3),t.Q6J("ngForOf",e.PrivilegeList)}}let Q=(()=>{class i{constructor(e,n){this.roleService=e,this.router=n,this.callback=new t.vpe,this.listRole=[],this.listPermission=[],this.model={}}ngOnChanges(){this.listRole=this.dataRoleSchool,this.nameRole=this.roleName,this.listRole.forEach(e=>{e.PrivilegeList.forEach(n=>{n.Status=n.RoleSchoolLevelPrivilegeStatus})}),console.log(this.listRole)}ngOnInit(){}filterFunction(e,n){let o=e;var s;n=n.filter((s=new Set,d=>{return r=o.map(r=>d[r]).join("|"),!s.has(r)&&s.add(r);var r}))}selectItem(e,n,o,a){if("create"===this.type){if(e){this.listPermission=[];for(let s=0;s<=a;s++)o[s].Status=1,o[s].RoleSchoolLevelPrivilegeStatus=1;this.listRole.forEach(s=>{s.PrivilegeList.forEach(d=>{1===d.Status&&1===d.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:d.PrivilegeId,SchoolLevelId:null,Status:d.Status})})})}else{this.listPermission=[];for(let s=a;s<o.length;s++)o[s].Status=0,o[s].RoleSchoolLevelPrivilegeStatus=0;this.listRole.forEach(s=>{s.PrivilegeList.forEach(d=>{1===d.Status&&1===d.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:d.PrivilegeId,SchoolLevelId:null,Status:d.Status})})})}console.log(this.listPermission)}else{if(this.listRole.forEach(r=>{r.PrivilegeList.forEach(l=>{1===l.Status&&1===l.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:l.PrivilegeId,SchoolLevelId:null,Status:l.Status})})}),e){this.listPermission=[];for(let r=0;r<=a;r++)o[r].Status=1,o[r].RoleSchoolLevelPrivilegeStatus=1;this.listRole.forEach(r=>{r.PrivilegeList.forEach(l=>{1===l.Status&&1===l.RoleSchoolLevelPrivilegeStatus&&this.listPermission.push({PrivilegeId:l.PrivilegeId,SchoolLevelId:null,Status:l.Status})})}),console.log(this.listPermission)}else{for(let r=a;r<o.length;r++)o[r].Status=0,o[r].RoleSchoolLevelPrivilegeStatus=0;this.listRole.forEach(r=>{r.PrivilegeList.forEach(l=>{if(1===l.Status&&1===l.RoleSchoolLevelPrivilegeStatus)this.listPermission.push({PrivilegeId:l.PrivilegeId,SchoolLevelId:null,Status:l.Status});else{let c=this.listPermission.find(h=>h.PrivilegeId===l.PrivilegeId);c&&(c.Status=0)}})})}let s=["PrivilegeId"],d=this.listPermission.filter((r=new Set,l=>{return c=s.map(c=>l[c]).join("|"),!r.has(c)&&r.add(c);var c}));this.listPermission=d,console.log(this.listPermission)}var r}selectAll(e,n){e?(this.listPermission=[],n.PrivilegeList.forEach(o=>{o.Status=1,o.RoleSchoolLevelPrivilegeStatus=1}),this.listRole.forEach(o=>{o.PrivilegeList.forEach(a=>{this.listPermission.push({PrivilegeId:a.PrivilegeId,SchoolLevelId:null,Status:a.Status})}),console.log(this.listPermission)})):(this.listPermission=[],n.PrivilegeList.forEach(o=>{o.Status=0,o.RoleSchoolLevelPrivilegeStatus=0}),this.listRole.forEach(o=>{o.PrivilegeList.forEach(a=>{this.listPermission.push({PrivilegeId:a.PrivilegeId,SchoolLevelId:null,Status:a.Status})}),console.log(this.listPermission)}))}save(){"create"===this.type?this.roleName?this.roleService.createRole({Name:this.roleName}).subscribe(e=>{this.listPermission.forEach(n=>{n.RoleId=e.Payload}),this.roleService.assignPrivilegeForPosition(this.listPermission).subscribe(n=>{u().fire({position:"center",icon:"success",title:"Th\xeam m\u1edbi th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.router.navigateByUrl("/main/setting/position")})}):this.callback.emit("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y!"):this.roleName?(this.listPermission.forEach(e=>{e.RoleId=this.roleId}),this.roleService.assignPrivilegeForPosition(this.listPermission).subscribe(e=>{u().fire({position:"center",icon:"success",title:"S\u1eeda th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.router.navigateByUrl("/main/setting/position")})):this.callback.emit("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y!")}cancelFunction(){this.router.navigateByUrl("/main/setting/position")}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(M.N),t.Y36(f.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-school-role"]],inputs:{dataRoleSchool:"dataRoleSchool",roleId:"roleId",type:"type",roleName:"roleName"},outputs:{callback:"callback"},features:[t.TTD],decls:7,vars:1,consts:[[1,"school-role"],["class","box-role",4,"ngFor","ngForOf"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"],[1,"box-role"],[1,"header"],["type","checkbox","name","","id","",3,"change"],[1,"content"],["class","list",4,"ngFor","ngForOf"],[1,"list"],["type","checkbox","name","","id","",3,"checked","change"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,z,7,2,"div",1),t.qZA(),t.TgZ(2,"div",2)(3,"button",3),t.NdJ("click",function(){return o.cancelFunction()}),t._uU(4,"H\u1ee7y b\u1ecf"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return o.save()}),t._uU(6,"L\u01b0u"),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("ngForOf",o.listRole))},dependencies:[v.sg],styles:[".school-role[_ngcontent-%COMP%]{margin-top:20px;display:grid;grid-template-columns:1fr 1fr}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]{width:85%;margin-right:20px;border-radius:24px;border:1px solid #acacb4;margin-bottom:20px}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;height:50px;display:flex;align-items:center;background-color:#c9c9d0;border-radius:24px 24px 0 0}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:15px;font-size:14px;font-weight:600}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;right:20px;height:25px;width:25px}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-bottom:15px}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;height:40px}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding-left:15px}.school-role[_ngcontent-%COMP%]   .box-role[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;right:20px;height:25px;width:25px}.add-role[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:70%}.add-role[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:10px 0}"]})}return i})();function X(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._uU(2," Th\xeam ch\u1ee9c v\u1ee5 m\u1edbi "),t.qZA(),t.TgZ(3,"div",3)(4,"label",4),t._uU(5,"T\xean ch\u1ee9c v\u1ee5"),t.qZA(),t.TgZ(6,"input",5),t.NdJ("input",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.validateInput(o.target.value))})("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.model.Name=o)}),t.qZA(),t.TgZ(7,"p",6),t._uU(8),t.qZA()(),t._UZ(9,"br"),t.TgZ(10,"div",7)(11,"mat-tab-group")(12,"mat-tab",8)(13,"app-student-role",9),t.NdJ("callback",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleEvent(o))})("dataChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.dataCreate=o)})("roleNameChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.model.Name=o)})("typeChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.type=o)}),t.qZA()(),t.TgZ(14,"mat-tab",10)(15,"app-school-role",11),t.NdJ("callback",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleEvent(o))})("dataRoleSchoolChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.dataRoleSchool=o)})("roleNameChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.model.Name=o)})("typeChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.type=o)})("roleIdChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.roleId=o)}),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.model.Name),t.xp6(2),t.Oqu(e.error),t.xp6(5),t.Q6J("data",e.dataCreate)("roleName",e.model.Name)("type",e.type),t.xp6(2),t.Q6J("dataRoleSchool",e.dataRoleSchool)("roleName",e.model.Name)("type",e.type)("roleId",e.roleId)}}function K(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._uU(2," S\u1eeda ch\u1ee9c v\u1ee5 "),t.qZA(),t.TgZ(3,"div",3)(4,"label",4),t._uU(5,"T\xean ch\u1ee9c v\u1ee5"),t.qZA(),t.TgZ(6,"input",12),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.model.Name=o)}),t.qZA()(),t._UZ(7,"br"),t.TgZ(8,"div",7)(9,"mat-tab-group")(10,"mat-tab",8)(11,"app-student-role",13),t.NdJ("dataChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.data=o)})("typeChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.type=o)})("roleNameChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.model.Name=o)})("roleIdChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.roleId=o)}),t.qZA()(),t.TgZ(12,"mat-tab",10)(13,"app-school-role",14),t.NdJ("dataRoleSchoolChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.dataRoleSchool=o)})("roleNameChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.model.Name=o)})("typeChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.type=o)})("roleIdChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.roleId=o)}),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.model.Name),t.xp6(5),t.Q6J("data",e.data)("type",e.type)("roleName",e.model.Name)("roleId",e.roleId),t.xp6(2),t.Q6J("dataRoleSchool",e.dataRoleSchool)("roleName",e.model.Name)("type",e.type)("roleId",e.roleId)}}let E=(()=>{class i{constructor(e,n){this.activatedRoute=e,this.roleService=n,this.dataRoleSchool=[],this.dataCreate=[],this.model={},this.data=[]}ngOnInit(){window.location.href.split("/").includes("create-position")?(this.type="create",this.check=!0,this.roleService.listRoleSchoolOfStudent(null).subscribe(n=>{this.dataCreate=n}),this.roleService.listRoleSchool(null).subscribe(n=>{this.dataRoleSchool=n,console.log(n)})):(this.type="edit",this.check=!1,this.roleId=+this.activatedRoute.snapshot.params.roleId,this.roleService.getListRole().subscribe(n=>{this.model=n.find(o=>o.RoleId===this.roleId)}),this.roleService.listRoleSchoolOfStudent(this.roleId).subscribe(n=>{this.data=n,this.data.map(o=>o.RoleId=this.roleId)}),this.roleService.listRoleSchool(this.roleId).subscribe(n=>{this.dataRoleSchool=n}))}handleEvent(e){console.log(e),this.error=e}validateInput(e){this.error=""===e?"Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y!":""}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(f.gz),t.Y36(M.N))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-main-position"]],decls:2,vars:2,consts:[["class","main",4,"ngIf"],[1,"main"],[1,"title"],[1,"add-role"],["for",""],["placeholder","Nh\u1eadp t\xean ch\u1ee9c v\u1ee5","type","text","name","","id","",1,"base-input",3,"ngModel","input","ngModelChange"],[1,"validate"],[1,"tabs"],["label","H\u1ecdc sinh"],[3,"data","roleName","type","callback","dataChange","roleNameChange","typeChange"],["label","Nh\xe0 tr\u01b0\u1eddng"],[3,"dataRoleSchool","roleName","type","roleId","callback","dataRoleSchoolChange","roleNameChange","typeChange","roleIdChange"],["placeholder","Nh\u1eadp t\xean ch\u1ee9c v\u1ee5","type","text","name","","id","",1,"base-input",3,"ngModel","ngModelChange"],[3,"data","type","roleName","roleId","dataChange","typeChange","roleNameChange","roleIdChange"],[3,"dataRoleSchool","roleName","type","roleId","dataRoleSchoolChange","roleNameChange","typeChange","roleIdChange"]],template:function(n,o){1&n&&(t.YNc(0,X,16,9,"div",0),t.YNc(1,K,14,9,"div",0)),2&n&&(t.Q6J("ngIf",!0===o.check),t.xp6(1),t.Q6J("ngIf",!1===o.check))},dependencies:[v.O5,p.Fj,p.JJ,p.On,S.uX,S.SP,G,Q],styles:[".main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:26px;font-weight:700}.main[_ngcontent-%COMP%]   .add-role[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:70%}.main[_ngcontent-%COMP%]   .add-role[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:10px 0}  .mat-tab-group.mat-primary .mat-ink-bar,   .mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#ff872b}  .mat-tab-label,   .mat-tab-link{font-size:18px;font-weight:600}  .mat-tab-list .mat-tab-labels .mat-tab-label-active{color:#ff872b;opacity:1}.validate[_ngcontent-%COMP%]{margin:0;padding-top:5px;color:red}"]})}return i})();var Z=g(8480),x=g(436);let V=(()=>{class i{constructor(e,n){this.router=e,this.roleService=n,this.config=new Z.L,this.listActive=[],this.data=[]}ngOnInit(){this.listActive=this.config.btnActice,this.tableData=this.config.collums,this.getListRole()}getListRole(){this.roleService.getListRole().subscribe(e=>{this.data=e.reverse(),this.data.forEach((n,o)=>{n.stt=o+1})})}handleTableCallback(e){"create"===e.type&&this.router.navigateByUrl("/main/setting/create-position"),"edit"===e.type&&this.router.navigateByUrl(`/main/setting/edit-position/${e.item.RoleId}`),"delete-all"===e.type&&u().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{if(n.isConfirmed){for(let o=0;o<e.item.length;o++)this.roleService.deleteRole(e.item[o].RoleId).subscribe(a=>{this.getListRole()});u().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500})}}),"delete"===e.type&&u().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{n.isConfirmed&&this.roleService.deleteRole(e.item.RoleId).subscribe(o=>{u().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.getListRole()})})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(f.F0),t.Y36(M.N))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-position-system"]],decls:5,vars:3,consts:[[1,"position"],[1,"title"],[3,"data","tableData","listActive","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"H\u1ec6 TH\u1ed0NG CH\u1ee8C V\u1ee4"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"app-table",2),t.NdJ("callback",function(s){return o.handleTableCallback(s)}),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("data",o.data)("tableData",o.tableData)("listActive",o.listActive))},dependencies:[x.a],styles:[".title[_ngcontent-%COMP%]{font-weight:600;font-size:26px;margin:0}"]})}return i})();var C=g(7700),O=g(9602);let $=(()=>{class i{constructor(e,n){this.dialogRef=e,this.schoolYearService=n,this.model={}}ngOnInit(){}closeDialog(){this.dialogRef.close()}save(){this.schoolYearService.createSchoolYear(this.model).subscribe(e=>{u().fire({position:"center",icon:"success",title:"Th\xeam m\u1edbi th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.closeDialog()})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(C.so),t.Y36(O.E))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-school-year-create"]],decls:27,vars:5,consts:[[1,"school-year-create"],[1,"title"],[1,"content"],[1,"input-text"],["for",""],["type","text","name","",1,"base-input",3,"ngModel","ngModelChange"],[1,"semester"],[1,"input-date"],["type","date","name","","id","",1,"base-input","date",3,"ngModel","ngModelChange"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," TH\xcaM N\u0102M H\u1eccC "),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6,"T\xean n\u0103m h\u1ecdc"),t.qZA(),t.TgZ(7,"input",5),t.NdJ("ngModelChange",function(s){return o.model.name=s}),t.qZA()(),t.TgZ(8,"div",6)(9,"label",4),t._uU(10,"H\u1ecdc k\u1ef3 I"),t.qZA(),t.TgZ(11,"div",7)(12,"input",8),t.NdJ("ngModelChange",function(s){return o.model.first_start=s}),t.qZA(),t._uU(13," - "),t.TgZ(14,"input",8),t.NdJ("ngModelChange",function(s){return o.model.first_end=s}),t.qZA()()(),t.TgZ(15,"div",6)(16,"label",4),t._uU(17,"H\u1ecdc k\u1ef3 II"),t.qZA(),t.TgZ(18,"div",7)(19,"input",8),t.NdJ("ngModelChange",function(s){return o.model.second_start=s}),t.qZA(),t._uU(20," - "),t.TgZ(21,"input",8),t.NdJ("ngModelChange",function(s){return o.model.second_end=s}),t.qZA()()(),t.TgZ(22,"div",9)(23,"button",10),t.NdJ("click",function(){return o.closeDialog()}),t._uU(24,"H\u1ee7y"),t.qZA(),t.TgZ(25,"button",11),t.NdJ("click",function(){return o.save()}),t._uU(26,"X\xe1c nh\u1eadn"),t.qZA()()()()),2&n&&(t.xp6(7),t.Q6J("ngModel",o.model.name),t.xp6(5),t.Q6J("ngModel",o.model.first_start),t.xp6(2),t.Q6J("ngModel",o.model.first_end),t.xp6(5),t.Q6J("ngModel",o.model.second_start),t.xp6(2),t.Q6J("ngModel",o.model.second_end))},dependencies:[p.Fj,p.JJ,p.On],styles:[".school-year-create[_ngcontent-%COMP%]{padding:15px}.school-year-create[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;text-align:center}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:25px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]{margin-bottom:5px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]   .input-date[_ngcontent-%COMP%]{margin-top:5px;display:flex;justify-content:space-between;align-items:center}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]   .input-date[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{width:43%}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group-btn[_ngcontent-%COMP%]{margin-top:25px}"]})}return i})();var y=g(402);let W=(()=>{class i{constructor(e,n,o,a){this.schoolYearService=e,this.dialogRef=n,this.data=o,this.formatDate=a,this.model={}}ngOnInit(){this.model=this.data,this.model.FirstEndDate=this.formatDate.formatDate(this.data.semester[0].end_date,"YYYY-MM-DD"),this.model.FirstStartDate=this.formatDate.formatDate(this.data.semester[0].start_date,"YYYY-MM-DD"),this.model.SecondEndDate=this.formatDate.formatDate(this.data.semester[1].end_date,"YYYY-MM-DD"),this.model.SecondStartDate=this.formatDate.formatDate(this.data.semester[1].start_date,"YYYY-MM-DD")}closeDialog(){this.dialogRef.close()}save(){this.schoolYearService.editSchoolYear(this.data.SchoolYearId,this.model).subscribe(e=>{u().fire({position:"center",icon:"success",title:"S\u1eeda th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.closeDialog()})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(O.E),t.Y36(C.so),t.Y36(C.WI),t.Y36(y.u))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-school-year-edit"]],decls:27,vars:5,consts:[[1,"school-year-create"],[1,"title"],[1,"content"],[1,"input-text"],["for",""],["type","text","name","",1,"base-input",3,"ngModel","ngModelChange"],[1,"semester"],[1,"input-date"],["type","date","name","","id","",1,"base-input","date",3,"ngModel","ngModelChange"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," S\u1eecA N\u0102M H\u1eccC "),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6,"T\xean n\u0103m h\u1ecdc"),t.qZA(),t.TgZ(7,"input",5),t.NdJ("ngModelChange",function(s){return o.model.Name=s}),t.qZA()(),t.TgZ(8,"div",6)(9,"label",4),t._uU(10,"H\u1ecdc k\u1ef3 I"),t.qZA(),t.TgZ(11,"div",7)(12,"input",8),t.NdJ("ngModelChange",function(s){return o.model.FirstStartDate=s}),t.qZA(),t._uU(13," - "),t.TgZ(14,"input",8),t.NdJ("ngModelChange",function(s){return o.model.FirstEndDate=s}),t.qZA()()(),t.TgZ(15,"div",6)(16,"label",4),t._uU(17,"H\u1ecdc k\u1ef3 II"),t.qZA(),t.TgZ(18,"div",7)(19,"input",8),t.NdJ("ngModelChange",function(s){return o.model.SecondStartDate=s}),t.qZA(),t._uU(20," - "),t.TgZ(21,"input",8),t.NdJ("ngModelChange",function(s){return o.model.SecondEndDate=s}),t.qZA()()(),t.TgZ(22,"div",9)(23,"button",10),t.NdJ("click",function(){return o.closeDialog()}),t._uU(24,"H\u1ee7y"),t.qZA(),t.TgZ(25,"button",11),t.NdJ("click",function(){return o.save()}),t._uU(26,"X\xe1c nh\u1eadn"),t.qZA()()()()),2&n&&(t.xp6(7),t.Q6J("ngModel",o.model.Name),t.xp6(5),t.Q6J("ngModel",o.model.FirstStartDate),t.xp6(2),t.Q6J("ngModel",o.model.FirstEndDate),t.xp6(5),t.Q6J("ngModel",o.model.SecondStartDate),t.xp6(2),t.Q6J("ngModel",o.model.SecondEndDate))},dependencies:[p.Fj,p.JJ,p.On],styles:[".school-year-create[_ngcontent-%COMP%]{padding:15px}.school-year-create[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;text-align:center}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:25px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]{margin-bottom:5px}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]   .input-date[_ngcontent-%COMP%]{margin-top:5px;display:flex;justify-content:space-between;align-items:center}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .semester[_ngcontent-%COMP%]   .input-date[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{width:43%}.school-year-create[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group-btn[_ngcontent-%COMP%]{margin-top:25px}"]})}return i})(),tt=(()=>{class i{constructor(e,n,o,a){this.router=e,this.dialog=n,this.schoolYearService=o,this.formatDate=a,this.config=new Z.L,this.listActive=[],this.data=[]}ngOnInit(){this.listActive=this.config.btnActice,this.tableData=this.config.collumsSchoolYear,this.getSchoolYear()}getSchoolYear(){this.schoolYearService.getSchoolYear().subscribe(e=>{this.data=e.original,this.data.map((n,o)=>(n.Name=n.name,n.Semester1=this.formatDate.formatDate(n.semester[0].start_date,"DD/MM/YYYY")+" - "+this.formatDate.formatDate(n.semester[0].end_date,"DD/MM/YYYY"),n.Semester2=this.formatDate.formatDate(n.semester[1].start_date,"DD/MM/YYYY")+" - "+this.formatDate.formatDate(n.semester[1].end_date,"DD/MM/YYYY"),n.stt=o+1,n))})}handleTableCallback(e){return console.log(e),"create"===e.type?this.dialog.open($,{width:"600px",height:"400px"}).afterClosed().subscribe(n=>{this.getSchoolYear()}):"edit"===e.type?this.dialog.open(W,{width:"600px",height:"400px",data:e.item}).afterClosed().subscribe(n=>{this.getSchoolYear()}):("delete-all"===e.type&&u().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{if(n.isConfirmed){for(let o=0;o<e.item.length;o++)this.schoolYearService.deleteSchoolYear(e.item[o].SchoolYearId).subscribe(a=>{this.getSchoolYear()});u().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500})}}),void("delete"===e.type&&u().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{n.isConfirmed&&this.schoolYearService.deleteSchoolYear(e.item.SchoolYearId).subscribe(o=>{u().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.getSchoolYear()})})))}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(f.F0),t.Y36(C.uw),t.Y36(O.E),t.Y36(y.u))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-school-year"]],decls:5,vars:3,consts:[[1,"position"],[1,"title"],[3,"data","tableData","listActive","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"N\u0102M H\u1eccC"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"app-table",2),t.NdJ("callback",function(s){return o.handleTableCallback(s)}),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("data",o.data)("tableData",o.tableData)("listActive",o.listActive))},dependencies:[x.a],styles:[".title[_ngcontent-%COMP%]{font-weight:600;font-size:26px;margin:0}"]})}return i})(),et=(()=>{class i{constructor(e){this.router=e}ngOnInit(){"ADMIN"!=JSON.parse(localStorage.getItem("access_user")).role_key&&this.router.navigateByUrl("/main/setting/infor-user")}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(f.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-setting"]],decls:17,vars:0,consts:[[1,"setting"],[1,"title"],[1,"list-item"],["routerLink","/main/setting/school-year",1,"item"],["src","assets/svg/setting-calender.svg","alt",""],["routerLink","/main/setting/subject/level",1,"item"],["src","assets/svg/icon-subject.svg","alt","",1,"subject"],["routerLink","/main/setting/infor-user",1,"item"],["src","assets/svg/menber/mb-icon-group.svg","alt","",1,"subject"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," C\xc0I \u0110\u1eb6T CHUNG "),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"div",2)(5,"div",3),t._UZ(6,"img",4),t.TgZ(7,"h2"),t._uU(8,"N\u0102M H\u1eccC"),t.qZA()(),t.TgZ(9,"div",5),t._UZ(10,"img",6),t.TgZ(11,"h2"),t._uU(12,"QU\u1ea2N L\xdd M\xd4N H\u1eccC"),t.qZA()(),t.TgZ(13,"div",7),t._UZ(14,"img",8),t.TgZ(15,"h2"),t._uU(16,"TH\xd4NG TIN C\xc1 NH\xc2N"),t.qZA()()()())},dependencies:[f.rH],styles:[".setting[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:26px;font-weight:700}.setting[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{display:flex;cursor:pointer}.setting[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;border:1px solid #ACACB4;border-radius:15px;text-align:center;margin-right:20px}.setting[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}"]})}return i})();var nt=g(6036),b=g(9862),T=g(729),A=g(9109);const ot=["inputElement"];function it(i,_){if(1&i&&(t.TgZ(0,"p",10),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.error)}}let at=(()=>{class i{constructor(e,n,o,a,s,d){this.dialogRef=e,this.data=n,this.http=o,this.handle=a,this.SubjectService=s,this.employeeService=d,this.tags=[],this.inputVisible=!1,this.inputValue="",this.results=[],this.model=[],this.listUserprofileId=[],this.listTeacher=[],this.onSearchKey=r=>{if(r){this.results=this.listTeacher.filter(l=>l.LastName.toLowerCase().indexOf(r.toLowerCase())>-1);for(let l=0;l<this.tags.length;l++){let c=this.tags[l].UserprofileId,h=this.results.findIndex(m=>m.UserprofileId===c);if(null==h)return this.results=[];this.results.splice(h,1),console.log(this.results)}}else this.results=[]},this.http=new b.eN(a)}ngOnInit(){console.log(this.data),this.model.GradeId=this.data._id,this.gradeName=this.data.name.toLowerCase(),this.getListTeacher()}closeDialog(){this.dialogRef.close()}handleClose(e){this.tags=this.tags.filter(n=>n!==e),0===this.tags.length&&(this.inputVisible=!1,this.inputValue="",this.results=[])}sliceTagName(e){return e.length>20?`${e.slice(0,20)}...`:e}showInput(){this.inputVisible=!0,setTimeout(()=>{this.inputElement?.nativeElement.focus()},10)}handleInputConfirm(){this.inputValue&&-1===this.tags.indexOf(this.inputValue)&&(this.tags=[...this.tags,this.inputValue]),this.inputValue="",this.inputVisible=!1}clickSelectItem(e){this.tags.push(e),this.inputVisible=!1,this.results=[],this.inputValue="",console.log(this.tags)}getListTeacher(){this.employeeService.getListEmployee("").subscribe(e=>{this.listTeacher=e.map(n=>({LastName:n.LastName||"",MediaURL:n.MediaURL,Phone:n.Phone,UserprofileId:n.UserprofileId}))})}setDefaultImg(e){e.MediaURL="assets/img/default-avatar.jpg"}getUnique(e,n){const o=e.map(a=>a[n]).map((a,s,d)=>d.indexOf(a)===s&&s).filter(a=>e[a]).map(a=>e[a]);return console.log(o),o}saveFunction(){this.tags.forEach(n=>{this.listUserprofileId.push(n.UserprofileId)}),this.SubjectService.createSubject({name:this.model.Name,grade_id:this.model.GradeId}).subscribe(n=>{this.closeDialog()},n=>{this.error=n.error.Message})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(C.so),t.Y36(C.WI),t.Y36(b.eN),t.Y36(b.jN),t.Y36(T._),t.Y36(A.G))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-subject-create"]],viewQuery:function(n,o){if(1&n&&t.Gf(ot,5),2&n){let a;t.iGM(a=t.CRH())&&(o.inputElement=a.first)}},decls:18,vars:3,consts:[[1,"subject-create"],[1,"title"],[1,"form-create"],[1,"group-input"],["for",""],["type","text",1,"base-input",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"],[1,"error"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6,"T\xean m\xf4n h\u1ecdc "),t.TgZ(7,"span"),t._uU(8,"*"),t.qZA()(),t.TgZ(9,"input",5),t.NdJ("ngModelChange",function(s){return o.model.Name=s}),t.qZA(),t.YNc(10,it,2,1,"p",6),t.qZA(),t._UZ(11,"div",3),t.qZA(),t._UZ(12,"br"),t.qZA(),t.TgZ(13,"div",7)(14,"button",8),t.NdJ("click",function(){return o.closeDialog()}),t._uU(15,"H\u1ee7y"),t.qZA(),t.TgZ(16,"button",9),t.NdJ("click",function(){return o.saveFunction()}),t._uU(17,"X\xe1c nh\u1eadn"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" Th\xeam m\u1edbi m\xf4n h\u1ecdc ",o.gradeName," "),t.xp6(7),t.Q6J("ngModel",o.model.Name),t.xp6(1),t.Q6J("ngIf",o.error))},dependencies:[v.O5,p.Fj,p.JJ,p.On],styles:[".subject-create[_ngcontent-%COMP%]{padding:15px 20px}.subject-create[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]{margin-top:20px}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:5px 0}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:150px}.editable-tag[_ngcontent-%COMP%]{background:rgb(255,255,255);border-style:dashed}.list-tags[_ngcontent-%COMP%]{min-height:175px;width:100%;padding:15px;border:1px solid;border:1px solid #e4e4e4;border-radius:5px}nz-tag.ant-tag.ng-star-inserted[_ngcontent-%COMP%]{position:relative;display:flex;height:35px;align-items:center;padding:0 30px 0 5px;width:160px;margin-bottom:10px}nz-tag.ant-tag.ng-star-inserted[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:25px;position:absolute;right:0;cursor:pointer}.chips-name[_ngcontent-%COMP%]{height:35px;position:relative}.tags[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr}.group-btn[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:20px}.group-btn[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{margin-left:10px}.group-btn[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{margin-right:10px;color:#ff872b}.search-box[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]{position:absolute;max-height:150px;overflow:auto;width:300px;border:1px solid #848484;z-index:999;background-color:#f8f8f8}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;background-color:#fff;margin:10px;border-radius:19px}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;padding:5px;margin-right:10px}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   .info-student[_ngcontent-%COMP%]{font-size:14px;display:flex;flex-direction:column}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   .info-student[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.error[_ngcontent-%COMP%]{margin:0;color:red;padding-top:5px}"]})}return i})();const st=["inputElement"];let rt=(()=>{class i{constructor(e,n,o,a,s,d){this.dialogRef=e,this.data=n,this.http=o,this.handle=a,this.SubjectService=s,this.employeeService=d,this.tags=[],this.inputVisible=!1,this.inputValue="",this.results=[],this.model=[],this.listUserprofileId=[],this.listTeacher=[],this.onSearchKey=r=>{if(r){this.results=this.listTeacher.filter(l=>-1!==l.TeacherName.toLowerCase().indexOf(r.toLowerCase()));for(let l=0;l<this.tags.length;l++){let c=this.tags[l].UserprofileId,h=this.results.findIndex(m=>m.UserprofileId===c);if(null==h)return this.results=[];this.results.splice(h,1),console.log(this.results)}}else this.results=[]},this.http=new b.eN(a)}ngOnInit(){this.model=this.data,console.log(this.data),this.model.GradeId=this.data.grade_id,this.tags=this.data.ListTeachers.filter(e=>null!==e.TeacherName),this.getListTeacher()}closeDialog(){this.dialogRef.close()}handleClose(e){this.tags=this.tags.filter(n=>n!==e),0===this.tags.length&&(this.inputVisible=!1,this.inputValue="",this.results=[])}sliceTagName(e){return e.length>20?`${e.slice(0,20)}...`:e}showInput(){this.inputVisible=!0,setTimeout(()=>{this.inputElement?.nativeElement.focus()},10)}handleInputConfirm(){this.inputValue&&-1===this.tags.indexOf(this.inputValue)&&(this.tags=[...this.tags,this.inputValue]),this.inputValue="",this.inputVisible=!1}clickSelectItem(e){this.tags.push(e),this.inputVisible=!1,this.results=[],this.inputValue="",console.log(this.tags)}getListTeacher(){this.employeeService.getListEmployee("").subscribe(e=>{this.listTeacher=e.map(n=>({TeacherName:n.LastName||"",MediaURL:n.MediaURL,Phone:n.Phone,UserprofileId:n.UserprofileId})),console.log(this.listTeacher)})}setDefaultImg(e){e.MediaURL="assets/img/default-avatar.jpg"}getUnique(e,n){const o=e.map(a=>a[n]).map((a,s,d)=>d.indexOf(a)===s&&s).filter(a=>e[a]).map(a=>e[a]);return console.log(o),o}saveFunction(){this.tags.forEach(n=>{this.listUserprofileId.push(n.UserprofileId)}),this.SubjectService.editSubject(this.data._id,{name:this.model.name,grade_id:this.model.grade_id}).subscribe(n=>{this.closeDialog()})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(C.so),t.Y36(C.WI),t.Y36(b.eN),t.Y36(b.jN),t.Y36(T._),t.Y36(A.G))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-subject-edit"]],viewQuery:function(n,o){if(1&n&&t.Gf(st,5),2&n){let a;t.iGM(a=t.CRH())&&(o.inputElement=a.first)}},decls:16,vars:2,consts:[[1,"subject-create"],[1,"title"],[1,"form-create"],[1,"group-input"],["for",""],["type","text",1,"base-input",3,"ngModel","ngModelChange"],[1,"group-btn"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6,"T\xean m\xf4n h\u1ecdc "),t.TgZ(7,"span"),t._uU(8,"*"),t.qZA()(),t.TgZ(9,"input",5),t.NdJ("ngModelChange",function(s){return o.model.name=s}),t.qZA()()(),t._UZ(10,"br"),t.qZA(),t.TgZ(11,"div",6)(12,"button",7),t.NdJ("click",function(){return o.closeDialog()}),t._uU(13,"H\u1ee7y"),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return o.saveFunction()}),t._uU(15,"X\xe1c nh\u1eadn"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" S\u1eeda m\xf4n h\u1ecdc ",o.gradeName," "),t.xp6(7),t.Q6J("ngModel",o.model.name))},dependencies:[p.Fj,p.JJ,p.On],styles:[".subject-create[_ngcontent-%COMP%]{padding:15px 20px}.subject-create[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]{margin-top:20px}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:5px 0}.subject-create[_ngcontent-%COMP%]   .form-create[_ngcontent-%COMP%]   .group-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:150px}.editable-tag[_ngcontent-%COMP%]{background:rgb(255,255,255);border-style:dashed}.list-tags[_ngcontent-%COMP%]{min-height:175px;width:100%;padding:15px;border:1px solid;border:1px solid #e4e4e4;border-radius:5px}nz-tag.ant-tag.ng-star-inserted[_ngcontent-%COMP%]{position:relative;display:flex;height:35px;align-items:center;padding:0 30px 0 5px;width:160px;margin-bottom:10px}nz-tag.ant-tag.ng-star-inserted[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:25px;position:absolute;right:0;cursor:pointer}.chips-name[_ngcontent-%COMP%]{height:35px;position:relative}.tags[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr}.group-btn[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:20px}.group-btn[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{margin-left:10px}.group-btn[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{margin-right:10px;color:#ff872b}.search-box[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]{position:absolute;max-height:150px;overflow:auto;width:300px;border:1px solid #848484;z-index:999;background-color:#f8f8f8}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;background-color:#fff;margin:10px;border-radius:19px}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;padding:5px;margin-right:10px}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   .info-student[_ngcontent-%COMP%]{font-size:14px;display:flex;flex-direction:column}.search-box[_ngcontent-%COMP%]   .list-result[_ngcontent-%COMP%]   .student-detail[_ngcontent-%COMP%]   .info-student[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})}return i})(),ct=(()=>{class i{constructor(e,n,o,a,s){this.activeRouter=e,this.router=n,this.schoolGradeLevel=o,this.dialog=a,this.subjectService=s,this.config=new nt.T,this.data=[],this.dataGrade={},this.listActive=[],this.tableData=[]}ngOnInit(){this.tableData=this.config.collums,this.listActive=this.config.btnActice,this.gradeId=this.activeRouter.snapshot.params.gradeId,this.schoolGradeLevel.getGradeOfLevel(this.activeRouter.snapshot.params.schoolLevelId).subscribe(n=>{this.dataGrade=n.find(o=>o._id==this.gradeId),this.gradeName=this.dataGrade.name}),this.getListSubject()}getListSubject(){this.subjectService.getListSubjectOfGrade(this.gradeId).subscribe(e=>{this.data=e,this.data.forEach((n,o)=>{n.stt=o+1,n.Count=n.count??0})})}handleTableCallback(e){return"create"===e.type?this.dialog.open(at,{width:"600px",height:"250px",data:this.dataGrade}).afterClosed().subscribe(n=>{this.getListSubject()}):"edit"===e.type?this.dialog.open(rt,{width:"600px",height:"250px",data:e.item}).afterClosed().subscribe(n=>{this.getListSubject()}):("delete-all"===e.type&&u().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 th\xf4ng b\xe1o n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{if(n.isConfirmed){for(let o=0;o<e.item.length;o++)this.subjectService.deleteSubject(e.item[o].SubjectId).subscribe(a=>{this.getListSubject()});u().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500})}}),void("delete"===e.type&&u().fire({text:"B\u1ea1n mu\u1ed1n xo\xe1 m\xf4n h\u1ecdc n\xe0y kh\xf4ng?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",cancelButtonText:"Hu\u1ef7",confirmButtonText:"Xo\xe1"}).then(n=>{n.isConfirmed&&this.subjectService.deleteSubject(e.item._id).subscribe(o=>{u().fire({position:"center",icon:"success",title:"Xo\xe1 th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),this.getListSubject()})})))}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(f.gz),t.Y36(f.F0),t.Y36(P.a),t.Y36(C.uw),t.Y36(T._))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-subject-class"]],decls:5,vars:4,consts:[[1,"subject"],[1,"title"],[3,"data","tableData","listActive","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"app-table",2),t.NdJ("callback",function(s){return o.handleTableCallback(s)}),t.qZA()()),2&n&&(t.xp6(2),t.hij(" M\xd4N H\u1eccC ",o.gradeName," "),t.xp6(2),t.Q6J("data",o.data)("tableData",o.tableData)("listActive",o.listActive))},dependencies:[x.a],styles:[".subject[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:600}"]})}return i})();var I=g(57);let lt=(()=>{class i{constructor(e,n,o){this.router=e,this.schoolGradeLevel=n,this.activeRouter=o,this.data=[]}ngOnInit(){this.levelId=this.activeRouter.snapshot.params.schoolLevelId,this.schoolGradeLevel.getGradeOfLevel(this.levelId).subscribe(e=>{this.data=e.map(n=>({...n,studentCount:-1,classCount:-1}))})}callback(e){this.router.navigateByUrl(`/main/setting/subject/level/${this.levelId}/grade/${e._id}`)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(f.F0),t.Y36(P.a),t.Y36(f.gz))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-subject-grade"]],decls:5,vars:1,consts:[[1,"document"],[1,"title"],[3,"dataCard","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," KH\u1ed0I "),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"app-base-card",2),t.NdJ("callback",function(s){return o.callback(s)}),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("dataCard",o.data))},dependencies:[I.H],styles:[".document[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:26px}"]})}return i})();var N=g(2371);let dt=(()=>{class i{constructor(e,n,o){this.router=e,this.schoolGradeLevel=n,this.memberService=o,this.data=[]}ngOnInit(){this.schoolGradeLevel.getListLevelPrivilege().subscribe(e=>{this.data=e.filter(n=>n.level_key).map(n=>({...n,studentCount:-1,classCount:-1}))})}callback(e){this.router.navigateByUrl(`/main/setting/subject/list-grade/${e.level_key}`)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(f.F0),t.Y36(P.a),t.Y36(N.n))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-subject-level"]],decls:5,vars:1,consts:[[1,"document"],[1,"title"],[3,"dataCard","callback"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," C\u1ea4P "),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"app-base-card",2),t.NdJ("callback",function(s){return o.callback(s)}),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("dataCard",o.data))},dependencies:[I.H],styles:[".document[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:26px}"]})}return i})();var gt=g(5861),ht=g(7117),mt=g(708),ut=g(3313),w=g(4571),D=g(5187),R=g(3680);const pt=["*"],bt=new t.OlP("MAT_CARD_CONFIG");let Y=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(bt,8))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,o){2&n&&t.ekj("mat-mdc-card-outlined","outlined"===o.appearance)("mdc-card--outlined","outlined"===o.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:pt,decls:1,vars:0,template:function(n,o){1&n&&(t.F$t(),t.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return i})(),k=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=t.lG2({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return i})(),xt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[R.BQ,v.ez,R.BQ]})}return i})();function St(i,_){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-create-form",2),t.NdJ("dataChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.listCreate=o)})("dataModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.dataModel=o)})("optionChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.option=o)})("arrayButtonChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.arrayButton=o)})("callback",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.handleCallbackEvent(o))}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("data",e.listCreate)("dataModel",e.dataModel)("option",e.option)("arrayButton",e.arrayButton)}}const Ot=[{path:"",component:et},{path:"infor-user",component:(()=>{class i{constructor(e,n,o){this.dialog=e,this.memberService=n,this.formatDateService=o,this.conFig=new ht.m,this.dataModel={},this.checkFile={},this.error=[],this.option={title:"Th\xf4ng tin c\xe1 nh\xe2n",type:"create"},this.arrayButton=[{class:"btn-cancel",text:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"},{class:"btn-save",text:"X\xe1c nh\u1eadn"}],this.listCreate=[]}ngOnInit(){var e=this;return(0,gt.Z)(function*(){e.listCreate=e.conFig.editUser;const n=JSON.parse(localStorage.getItem("access_user"));e.pass=e.memberService.getTeacherUserName();const o=yield(0,mt.n)(e.pass);e.dataModel={LastName:o.full_name,UserName:o.user_name,ParentLastName:o?.student?.parent_name,Email:o.email,DOB:e.formatDateService.formatDate(o.birth_day,"YYYY-MM-DD"),LocationAddress:o?.teacher?.address??o?.student?.address??o?.employee[0]?.address,Gender:o.gender,Phone:o.phone},"ADMIN"==n.role_key&&(e.listCreate=e.listCreate.filter(a=>!["ParentLastName","LocationAddress"].includes(a.id))),"STUDENTS"!=n.role_key&&(e.listCreate=e.listCreate.filter(a=>!["ParentLastName"].includes(a.id)))})()}handleCallbackEvent(e){if(JSON.parse(localStorage.getItem("access_user")),"btn-save"===e.btn.class&&this.memberService.updateInfor({email:e.item.Email,class_id:e.item.ClassId,full_name:e.item.LastName,user_name:e.item.UserName,gender:+e.item.Gender,phone:e.item.Phone,birth_day:new Date(e.item.DOB),address:e.item.LocationAddress,parent_name:e.item.ParentLastName}).subscribe(o=>{u().fire({position:"center",icon:"success",title:"S\u1eeda th\xf4ng tin th\xe0nh c\xf4ng!",showConfirmButton:!1,timer:1500}),localStorage.setItem("access_user",JSON.stringify({...o,password:void 0})),window.location.reload()},o=>{u().fire({position:"center",icon:"error",title:o.error.message,showConfirmButton:!1,timer:1500})}),"btn-cancel"===e.btn.class){const o=new C.vA;o.disableClose=!0,o.autoFocus=!0;const a=this.dialog.open(ut.p,o);console.log(a),a&&a.afterClosed().subscribe(s=>console.log("Dialog output:",s))}}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(C.uw),t.Y36(N.n),t.Y36(y.u))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-infor"]],decls:5,vars:3,consts:[[1,"example-card"],[4,"ngIf"],[3,"data","dataModel","option","arrayButton","dataChange","dataModelChange","optionChange","arrayButtonChange","callback"]],template:function(n,o){1&n&&(t._UZ(0,"app-loader"),t.TgZ(1,"mat-card",0)(2,"mat-card-content"),t.YNc(3,St,2,4,"ng-container",1),t.ALo(4,"async"),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,1,o.pass)))},dependencies:[v.O5,w.R,D.I,Y,k,v.Ov],styles:[".example-card[_ngcontent-%COMP%]{max-width:1000px;margin:auto}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]})}return i})()},{path:"school-year",component:tt},{path:"position",component:V},{path:"subject/level",component:dt},{path:"subject/list-grade/:schoolLevelId",component:lt},{path:"subject/level/:schoolLevelId/grade/:gradeId",component:ct},{path:"create-position",component:E},{path:"edit-position/:roleId",component:E},{path:"",redirectTo:"setting",pathMatch:"full"}];var yt=g(2557),Tt=g(4630),It=g(1043),Lt=g(1598),Et=g(617),Zt=g(2296);let At=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[v.ez,x.m,f.Bz.forChild(Ot),I.h,yt.Hi,p.u5,Et.Ps,Tt.Bb,p.UX,It.lN,Lt.X,S.Nh,Zt.ot,w.q,D.D,xt]})}return i})()}}]);